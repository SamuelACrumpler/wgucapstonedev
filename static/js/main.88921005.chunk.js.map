{"version":3,"sources":["routes/login.js","routes/nav.js","routes/main.js","routes/top.js","routes/users.js","routes/customers.js","routes/appointments.js","js/classes/appointment.js","routes/reports.js","routes/search.js","routes/history.js","js/routes.js","App.js","serviceWorker.js","index.js"],"names":["login","props","state","username","password","updated_date","created_date","count","error","path","window","location","protocol","hostname","onChange","bind","onSubmit","this","checkLoginSession","checkUserCount","console","log","event","target","name","value","setState","e","preventDefault","axios","get","then","res","user","data","finally","err","document","getElementById","classList","remove","createLoginSession","history","push","Date","now","updatedDate","createdDate","post","type","updatedBy","createdBy","result","localStorage","getItem","_id","setItem","className","placeholder","Component","Navbar","admin","title","link","process","dispatcher","worker","list","href","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","map","index","key","onClick","onLogout","main","crudState","selected","cUser","year","month","monthName","cust","add","stime","etime","users","listmonths","listdays","listcust","listwork","listallapp","listapp","onClickDay","d","getFullYear","getMonth","loadDays","dn","dc","t","forEach","app","cd","getDate","length","custid","userid","y","m","am","parseInt","date","getDay","firstday","days","i","d2","results","curDate","join","hasOwnProperty","ind","color","custs","address","workers","work","val","newdate","setMonth","toLocaleTimeString","class","changeApp","width","height","viewBox","fill","xmlns","fill-rule","changeMonth","day","num","Top","addEventListener","handleScroll","removeEventListener","top","body","scrollTop","documentElement","style","display","toTop","pass","cPass","editUser","lbutton","rbutton","selCrud","selectedName","selectedIndex","disabled","header","runtest","onCancel","handleCrudChange","handleUserChange","undefined","getAllUsers","o","n","crudRefresh","check","flag","delete","crudUse","findIndex","removeItem","put","checked","role","aria-describedby","customers","uid","address2","city","zip","phone","edit","documents","test","handleEditChange","getAllDocuments","a","a2","c","z","p","inputReset","appointments","cid","rate","supply","total","hours","overlap","tasks","notes","workerid","workername","selCust","selCustId","test2","onSelect","onChecked","handleAppChange","handleCustomerChange","getAllCustomers","getAllWorkers","s","dt","getMinutes","getHours","setHours","Math","round","setMinutes","sdate","edate","oldty","getTypeVal","substring","indexOf","lzHour","lzMinute","typeRefresh","opening","closing","eflag","e2","s2","v","parseFloat","toFixed","tempworkers","htmlFor","step","appointment","u","h","ty","_userid","_custid","_title","_overlap","_hours","_type","_notes","_stime","_etime","_uid","routapp","r","tl","ta","_rate","_total","_tasks","split","specapp","su","_supply","reports","categories","entries","tblall","tblrou","tblcon","tblspe","listapps","listrout","listcons","listspec","handleTypeChange","getAllApps","usserid","routs","cons","specs","newapp","loadApps","table","rou","con","spe","obj","indexMonth","rout","sum","avg","getTaskCount","avgtasks","spec","sup","supavg","changeYear","scope","getMonthName","search","tbluse","tblcus","tblapp","q","loadData","createBrowserHistory","App","basename","component","withRouter","exact","Boolean","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.88921005.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n\r\nclass login extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tupdated_date: '',\r\n\t\t\tcreated_date: '',\r\n\t\t\tcount: '',\r\n\t\t\terror: '',\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname\r\n\t\t};\r\n\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\r\n\t}\r\n\r\n\t//First Run check. If there is no users. Add the following  admin/admin as user/pass\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.checkLoginSession();\r\n\t\t//this.dropCheck();\r\n\t\tthis.checkUserCount();\r\n\t\tconsole.log(\"test: \" + process.env.PUBLIC_URL)\r\n\t}\r\n\r\n\r\n\tonChange(event) {\r\n\t\tconsole.log(\"eventname: \" + event.target.name);\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n\tonSubmit(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\taxios.get(this.state.path + ':5000/user/u/' + this.state.username)\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ user: res.data });\r\n\t\t\t\tconsole.log(this.state.user); //pulls the user if it exists\r\n\t\t\t}).finally(() => {\r\n\r\n\r\n\t\t\t\ttry{\r\n\t\t\t\t\tif (this.state.username === '' ) throw \"ERROR: Username was left blank.\"\r\n\t\t\t\t\tif (this.state.password === '' ) throw \"ERROR: Password was left blank.\"\r\n\t\t\t\t\tif (this.state.user === null ) throw \"ERROR: Username or password is incorrect.\"\r\n\t\t\t\t\tif (this.state.user.password !== this.state.password ) throw \"ERROR: Username or password is incorrect.\"\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tcatch(err){\r\n\t\t\t\t\tthis.setState({ error: err })\r\n\t\t\t\t\tif (document.getElementById(\"error\") !== null) {\r\n\t\t\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t\tthis.createLoginSession();\r\n\r\n\t\t\t\tthis.props.history.push(\"/main\")\r\n\r\n\t\t\t});\r\n\t\t\t\r\n\r\n\t}\r\n\r\n\r\n\tcheckUserCount() {\r\n\t\taxios.get(this.state.path + ':5000/user/count')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ count: res.data });\r\n\t\t\t\tconsole.log(\"user count: \" + this.state.count); //pulls the user if it exists\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tif (this.state.count <= 0) {\r\n\t\t\t\t\t//logic here for creating user;\r\n\r\n\t\t\t\t\tthis.setState({ updated_date: Date.now })\r\n\t\t\t\t\tthis.setState({ created_date: Date.now })\r\n\r\n\r\n\t\t\t\t\tconst username = \"Admin\";\r\n\t\t\t\t\tconst type = \"Admin\"\r\n\t\t\t\t\tconst password = \"admin\";\r\n\t\t\t\t\tconst updatedBy = \"Admin\";\r\n\t\t\t\t\tconst createdBy = \"Admin\";\r\n\t\t\t\t\tconst updatedDate = new Date();\r\n\t\t\t\t\tconst createdDate = new Date();\r\n\r\n\r\n\t\t\t\t\taxios.post(this.state.path + ':5000/user', { username, type, password, updatedBy, createdBy, updatedDate, createdDate })\r\n\t\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\r\n\tcheckLoginSession() {\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false'  || !localStorage.getItem(\"isLoggedIn\")) {\r\n\t\t\tthis.props.history.push(\"/\")\r\n\t\t} else if(localStorage.getItem(\"isLoggedIn\") === 'true'){\r\n\t\t\tthis.props.history.push(\"/main\")\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tcreateLoginSession() {\r\n\t\tconsole.log(this.state.user._id);\r\n\t\tlocalStorage.setItem(\"userId\", this.state.user._id);\r\n\t\tlocalStorage.setItem(\"username\", this.state.user.username);\r\n\t\tlocalStorage.setItem(\"userType\", this.state.user.type);\r\n\t\tlocalStorage.setItem(\"isLoggedIn\", true);\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\r\n\t\t\t<form className=\"form-login border text-center full-center\" onSubmit={this.onSubmit}>\r\n\t\t\t\t<p className=\"error\">{this.state.error}</p>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Username\" name=\"username\" value={this.state.username} onChange={this.onChange} className=\"form-control\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"password\" placeholder=\"Password\" name=\"password\" value={this.state.password} onChange={this.onChange} className=\"form-control\" />\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t<button className=\"btn btn-lg btn-primary btn-block\">Sign in</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default login;\r\n","import React, { Component } from 'react';\r\nclass Navbar extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tadmin : [{title: 'Main', link: `${process.env.PUBLIC_URL}/main`},{title: 'Users', link: '/capstone/users'},{title: 'Customers', link: '/capstone/customers'},{title: 'Appointments', link: '/capstone/appointments'},{title: 'Reports', link: '/capstone/reports'},{title: 'Search', link: '/capstone/search'}],\r\n\t\t\tdispatcher : [{title: 'Main', link: `${process.env.PUBLIC_URL}/main`},{title: 'Customers', link: '/capstone/customers'},{title: 'Appointments', link: '/capstone/appointments'}],\r\n\t\t\tworker : [{title: 'Main', link: `${process.env.PUBLIC_URL}/main`}],\r\n\t\t\tlist : []\r\n\r\n\t\t\t\r\n\r\n\t\t}\r\n\r\n\t\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif(localStorage.getItem('userType') === 'Admin'){\r\n\t\t\tthis.setState({list : this.state.admin})\r\n\t\t} else if (localStorage.getItem('userType') === 'Dispatcher'){\r\n\t\t\tthis.setState({list : this.state.dispatcher})\r\n\t\t} else {\r\n\t\t\tthis.setState({list : this.state.worker})\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\r\n\tonLogout(){\r\n\t\tlocalStorage.setItem(\"isLoggedIn\", false) \r\n\t\tlocalStorage.setItem(\"userId\", '') \r\n\t\tlocalStorage.setItem(\"userType\", '') \r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark static-top\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<a className=\"navbar-brand\" href=\"#\">[Company Name] Scheduler</a>\r\n\t\t\t\t\t<button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\" aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto\">\r\n\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.list.map((list, index) => (\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t<li className=\"nav-item\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"nav-link\" href={list.link}>{list.title}</a>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<a className=\"nav-link\" href=\"\" onClick={this.onLogout}>Log Out</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</nav>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\n\r\n\r\nclass main extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: '',\r\n\t\t\tselected: '',\r\n\t\t\tcUser: '',\r\n\t\t\tyear: '',\r\n\t\t\tmonth: '',\r\n\t\t\tmonthName: '',\r\n\t\t\ttitle: '',\r\n\t\t\tcust: '',\r\n\t\t\tworker: '',\r\n\t\t\tadd: '',\r\n\t\t\tstime: '',\r\n\t\t\tetime: '',\r\n\t\t\tindex: 0,\r\n\t\t\tusers: [],\r\n\t\t\tlistmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"], \r\n\t\t\tlistdays: [],\r\n\t\t\tlistcust: [],\r\n\t\t\tlistwork: [],\r\n\t\t\tlistallapp: [],\r\n\t\t\tlistapp: []\r\n\t\t};\r\n\r\n\t\tthis.onClickDay = this.onClickDay.bind(this);\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\")) {\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\t\t\r\n\t\tlet d = new Date();\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tyear: d.getFullYear(),\r\n\t\t\tmonth: d.getMonth(),\r\n\t\t\tmonthName: this.state.listmonths[d.getMonth()]\r\n\t\t})\r\n\t\tthis.loadDays(d.getFullYear(), d.getMonth());\r\n\t}\r\n\r\n\tonClickDay(dn){\r\n\t\tlet dc = this.state.year+\"\"+this.state.month+\"\"+dn\r\n\r\n\t\tlet t = [];\r\n\t\tthis.state.listallapp.forEach(app => {\r\n\t\t\tlet cd = new Date(app.stime)\r\n\t\t\tcd = (cd.getFullYear()+''+cd.getMonth()+''+cd.getDate())\r\n\t\t\tif (cd == dc){\r\n\t\t\t\tt.push(app)\r\n\t\t\t\tconsole.log(app)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\r\n\t\t\r\n\t\tconsole.log('how long: '+t.length)\r\n\t\tif(t.length){\r\n\t\t\tthis.setState({ listapp : t,\r\n\t\t\t\t\ttitle: t[0].title,\r\n\t\t\t\t\tcust : this.state.listcust[t[0].custid],\r\n\t\t\t\t\tworker : this.state.listwork[t[0].userid],\r\n\t\t\t\t\tadd : this.state.listcust['add:'+t[0].custid],\r\n\t\t\t\t\tstime : t[0].stime,\r\n\t\t\t\t\tetime : t[0].etime,\r\n\t\t\t\t\tindex : 0,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\t\tthis.setState({ listapp : [],\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tcust : '',\r\n\t\t\t\t\tworker : '',\r\n\t\t\t\t\tadd : '',\r\n\t\t\t\t\tstime : '',\r\n\t\t\t\t\tetime : '',\r\n\t\t\t\t\tindex : 0,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\t\t\r\n\t}\r\n\r\n\r\n\tcheckLoginSession() {\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'true') {\r\n\t\t\tthis.props.history.push(\"/Main\")\r\n\t\t}\r\n\t}\r\n\r\n\tcreateLoginSession() {\r\n\t\tconsole.log(this.state.user._id);\r\n\t\tlocalStorage.setItem(\"userId\", this.state.user._id);\r\n\t\tlocalStorage.setItem(\"isLoggedIn\", true);\r\n\t}\r\n\r\n\tloadDays(y, m){\r\n\t\tlet am = parseInt(m)+1\r\n\t\tconsole.log(y+\"-\"+am);\r\n\t\t\r\n\t\tconsole.log(y+\"-\"+m);\r\n\t\tlet date = new Date((y+\"-\"+am+'-1'));\r\n\t\tconsole.log(date)\r\n\t\tconsole.log(date.getDay());\r\n\t\tlet firstday = date.getDay(); \r\n\t\tlet d = new Date(y, am, 0).getDate();\r\n\t\tlet days = [];\r\n\t\tlet count = 0;\r\n\t\tconsole.log(\"day of week: \" + firstday)\r\n\t\tconsole.log((parseInt(m)-1))\r\n\t\tconsole.log(\"days: \" + d)\r\n\r\n\r\n\t\tfor (let i = 0; i < firstday; i++){\r\n\t\t\tdays.push({\r\n\t\t\t\t'num': '',\r\n\t\t\t\t'app': '',\r\n\t\t\t\t'color': 'no-day-square'\r\n\t\t\t})\r\n\t\t\tcount++\r\n\t\t\tconsole.log(count)\r\n\t\t}\r\n\r\n\t\tfor (let i=0; i < d; i++ ){\r\n\t\t\t\r\n\t\t\tdays.push({\r\n\t\t\t\t'num': i+1,\r\n\t\t\t\t'app': '',\r\n\t\t\t\t'color': 'empty-square'\r\n\t\t\t})\r\n\t\t\tcount++\r\n\r\n\t\t}\r\n\r\n\t\tlet d2 = 42-d-firstday;\t\r\n\t\tfor (let i=0; i < d2; i++){\r\n\t\t\tdays.push({\r\n\t\t\t\t'num': '',\r\n\t\t\t\t'app': '',\r\n\t\t\t\t'color': 'no-day-square'\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconsole.log(days)\r\n\t\tcount = 0;\r\n\t\tlet month = [];\r\n\t\r\n\r\n\r\n\r\n\r\n\t\taxios.get(this.state.path + ':5000/appointment/m/' + y + '/' + am + '/' + 1)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ listallapp: res.data})\r\n\t\t\t\tmonth = res.data\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tlet results ={};\r\n\r\n\r\n\t\t\t\tfor (let i=0; i< month.length; i++) {\r\n\r\n\t\t\t\t\tlet curDate = new Date(month[i].stime);\r\n\t\t\t\t\tlet date = [curDate.getFullYear(),curDate.getMonth(),curDate.getDate()].join(\"-\"); //creates yyyy-mm-dd\r\n\t\t\t\t\tresults[date] = results[date] || 0; //if results doens't exist, \r\n\t\t\t\t\tresults[date]++;\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i in results) {\r\n\t\t\t\tif (results.hasOwnProperty(i)) {\r\n\t\t\t\t\tlet tdate = new Date(i);\r\n\t\t\t\t\tlet ind = tdate.getDate()+firstday-1;\r\n\t\t\t\t\tconsole.log(ind)\r\n\t\t\t\t\tdays[ind].app = 'Appointments: ' + results[i];\r\n\t\t\t\t\tdays[ind].color = 'filled-square'\r\n\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ listdays : days})\r\n\r\n\t\t\t\tlet custs = {};\r\n\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/customer/')\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tres.data.forEach(cust => {\r\n\t\t\t\t\t\t\tcusts[cust._id] = cust.name;\r\n\t\t\t\t\t\t\tcusts[\"add:\" + cust._id] = cust.address;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tthis.setState({ listcust : custs})\r\n\t\t\t\t\t\tconsole.log(this.state.listcust['5ecb538a9d80159f14099481'])\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tlet workers = {}\r\n\t\t\t\taxios.get(this.state.path + ':5000/user/')\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tres.data.forEach(work => {\r\n\t\t\t\t\t\t\tif(work.type === 'Field Worker'){\r\n\t\t\t\t\t\t\t\tworkers[work._id] = work.username;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tworkers['null'] = 'null';\r\n\r\n\t\t\t\t\t\tthis.setState({ listwork : workers})\r\n\t\t\t\t\t\tconsole.log(this.state.listwork)\r\n\r\n\t\t\t\t\t\tconsole.log(this.state.listwork['5ecb538a9d80159f14099481'])\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\r\n\t\t\t})\r\n\t}\r\n\r\n\tchangeMonth(val){\r\n\t\tlet y = this.state.year; const m = parseInt(this.state.month)+1;\r\n\t\tconsole.log(y+'-'+m+'-1')\r\n\t\tlet newdate = new Date(y+'-'+m+'-1')\r\n\t\tconsole.log(newdate)\r\n\t\tnewdate.setMonth(newdate.getMonth()+val)\r\n\t\t\r\n\r\n\t\tlet date = new Date(y+'-'+(m+val+1)+'-1');\r\n\t\tconsole.log('monthnum: ' + (m+val))\r\n\t\tconsole.log(newdate)\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\tyear : newdate.getFullYear(),\r\n\t\t\t\tmonth : newdate.getMonth(),\r\n\t\t\t\tmonthName : this.state.listmonths[newdate.getMonth()]\r\n\t\t\t}\r\n\t\t)\r\n\t\tthis.loadDays(newdate.getFullYear(), newdate.getMonth())\r\n\r\n\t}\r\n\t\r\n\tchangeApp(val){\r\n\t\tif(this.state.index+val < 0){return}\r\n\t\tif(this.state.index+val >= this.state.listapp.length ){return}\r\n\t\tconsole.log(this.state.listwork[this.state.listapp[this.state.index+val].userid])\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\ttitle: this.state.listapp[this.state.index+val].title,\r\n\t\t\t\tcust : this.state.listcust[this.state.listapp[this.state.index+val].custid],\r\n\t\t\t\tworker : this.state.listwork[this.state.listapp[this.state.index+val].userid],\r\n\t\t\t\tadd : this.state.listcust['add:'+this.state.listapp[this.state.index+val].custid],\r\n\t\t\t\tstime : this.state.listapp[this.state.index+val].stime,\r\n\t\t\t\tetime : this.state.listapp[this.state.index+val].etime,\r\n\t\t\t\tindex : this.state.index+val,\r\n\r\n\t\t\t}\r\n\r\n\t\t)\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar/>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row p-0\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border recent p-0 no-day-square d-none d-lg-block\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.listapp.map((app, index) => (\r\n\t\t\t\t\t\t\t\t\t<div className=\"app-list-border\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"app-list-border filled-square m-0\">Title: {app.title}</h3>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Customer: {this.state.listcust[app.custid]}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Contracter: {this.state.listwork[app.userid]}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Address: {this.state.listcust['add:'+app.custid]}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Timeframe: {(new Date(app.stime)).toLocaleTimeString()} - {(new Date(app.etime)).toLocaleTimeString()}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border recent no-day-square d-md-block d-lg-none  \">\r\n\t\t\t\t\t\t<div className=\"row p-0\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeApp(-1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-left\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-10 p-0\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"app-list-border filled-square m-0\">Title: {this.state.title}</h3>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Customer: {this.state.cust}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Contracter: {this.state.worker}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Address: {this.state.add}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Timeframe: {(new Date(this.state.stime)).toLocaleTimeString()} - {(new Date(this.state.etime)).toLocaleTimeString()} </div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeApp(1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border border-left-0 calendar \">\r\n\t\t\t\t\t\t\t<div className=\"row p-0\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeMonth(-1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-left\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-10\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"display-4 mb-4 text-center\">{this.state.monthName + ' ' +this.state.year}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeMonth(1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<div className=\"row d-none d-md-flex p-1 bg-dark text-white\">\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Sunday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Monday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Tuesday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Wednesday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Thursday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Friday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Saturday</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t<div className=\"calendar-days row\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.listdays.map((day, index) => (\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={day.color + \" square border\"} key={index} name={day.num} onClick={() => this.onClickDay(day.num)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"table\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-cell\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"daynum\">{day.num}</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"appnum\">{day.app}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default main;\r\n","import React, { Component } from 'react';\r\nclass Top extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('scroll', this.handleScroll);\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('scroll', this.handleScroll);\r\n\t}\r\n\t\r\n\r\n\thandleScroll() {\r\n\t\tlet top = document.getElementById(\"top\");\r\n\t\tif (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\r\n\t\t  top.style.display = \"block\";\r\n\t\t} else {\r\n\t\t  top.style.display = \"none\";\r\n\t\t  \r\n\t\t}\r\n\t  }\r\n\t  \r\n\t  // When the user clicks on the button, scroll to the top of the document\r\n \ttoTop() {\r\n\t\tdocument.body.scrollTop = 0;\r\n\t\tdocument.documentElement.scrollTop = 0;\r\n\t  }\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<button className=\"btn btn-primary d-none d-sm-block d-md-none btn-top\" id=\"top\" onClick={this.toTop}>\r\n\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-up-square\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path fill-rule=\"evenodd\" d=\"M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/>\r\n\t\t\t\t<path fill-rule=\"evenodd\" d=\"M4.646 8.354a.5.5 0 0 0 .708 0L8 5.707l2.646 2.647a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 0 .708z\"/>\r\n\t\t\t\t<path fill-rule=\"evenodd\" d=\"M8 11.5a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-1 0v5a.5.5 0 0 0 .5.5z\"/>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Top;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\nimport Top from './../routes/top';\r\n\r\n\r\n\r\nclass users extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: 0,\r\n\t\t\tselected: '',\r\n\t\t\tuser: '',\r\n\t\t\ttype: 'Admin',\r\n\t\t\tpass: '',\r\n\t\t\tcPass: '',\r\n\t\t\teditUser: '',\r\n\t\t\tlbutton: 'Save',\r\n\t\t\trbutton: 'Cancel',\r\n\t\t\tselCrud: 'option1',\r\n\t\t\tselectedName: '',\r\n\t\t\tselectedIndex: 0,\r\n\t\t\tdisabled: false,\r\n\t\t\theader: 'Create New User',\r\n\t\t\tusers: [],\r\n\t\t\terror: '',\r\n\t\t\truntest: false\r\n\t\t};\r\n\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.onCancel = this.onCancel.bind(this);\r\n\r\n\t\tthis.handleCrudChange = this.handleCrudChange.bind(this);\r\n\t\tthis.handleUserChange = this.handleUserChange.bind(this);\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") !== \"Admin\") {\r\n\t\t\tif(this.props.history !== undefined){this.props.history.push('/')}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tthis.getAllUsers();\r\n\t}\r\n\r\n\r\n\tcrudRefresh(o,n) {\r\n\t\tdocument.getElementById(\"lbloption\"+o).classList.remove('focus');\r\n\t\tdocument.getElementById(\"lbloption\"+o).classList.remove('active');\r\n\t\tdocument.getElementById(\"lbloption\"+n).classList.add('focus');\r\n\t\tdocument.getElementById(\"lbloption\"+n).classList.add('active');\r\n\t\tthis.setState({\r\n\t\t\tlbutton: 'Save',\r\n\t\t\tdisabled: false\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\r\n\r\n\thandleUserChange(event) {\r\n\t\tlet i = event.target.value;\r\n\t\r\n\r\n\t\tif (this.state.selCrud === 'option1') {\r\n\t\t\tthis.crudRefresh(1, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t}else if (this.state.selCrud === 'option3') {\r\n\t\t\tthis.crudRefresh(3, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//needs to read from database and put in the information \r\n\r\n\r\n\t\taxios.get(this.state.path + ':5000/user/' + this.state.users[i]._id)\r\n\t\t\t.then((res) => {\r\n\r\n\t\t\t\tthis.setState({ editUser: res.data });\r\n\t\t\t}).finally(() => {\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tuser: this.state.editUser.username,\r\n\t\t\t\t\ttype: this.state.editUser.type,\r\n\t\t\t\t\tpass: '',\r\n\t\t\t\t\tcPass: '',\r\n\t\t\t\t\tselectedName: \"user\" + i,\r\n\t\t\t\t\tselectedIndex: i,\r\n\t\t\t\t\tcrudState: 2\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t\t\r\n\t}\r\n\r\n\thandleTestReset(){\r\n\t\tlet check = \"\"\r\n\t\tlet flag = false\r\n\t\taxios.get(this.state.path + ':5000/user/u/TestDataDeleteMe')\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.data !== null) {// as long as something is there\r\n\t\t\t\t\t\t\tcheck = res.data._id;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).finally(() => { \r\n\t\t\t\t\t\tif(flag === true){return}\r\n\t\t\t\t\t\taxios.delete(this.state.path + ':5000/user/' + check)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\t\t\tthis.getAllUsers();\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t}\r\n\r\n\thandleCrudChange(event) {\r\n\t\tconsole.log(\"current select:\" + event.target.value)\r\n\r\n\t\tif (event.target.value === 'option1') {\r\n\r\n\t\t\tconsole.log('save time')\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t\t\t\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tuser: '',\r\n\t\t\t\ttype: 'Admin',\r\n\t\t\t\tpass: '',\r\n\t\t\t\tcPass: '',\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tselectedName : '',\r\n\t\t\t\tselectedIndex : -1,\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 0\r\n\t\t\t});\r\n\r\n\t\t} else if (event.target.value === 'option2') {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to edit a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(2,1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('save time')\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 2\r\n\t\t\t});\r\n\r\n\r\n\t\t}else {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to delete a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(3, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('sdel time')\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Delete',\r\n\t\t\t\tdisabled: true,\r\n\t\t\t\tcrudState: 3\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tselCrud: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.setState({ error: '' })\r\n\t\r\n\t\ttry{\r\n\t\t\tif (this.state.user === '' && this.state.crudState !== 3) throw \"ERROR: Username was left blank.\"\r\n\t\t\tif (this.state.pass === '' && this.state.crudState !== 3) throw \"ERROR: Password was left blank.\"\r\n\t\t\tif (this.state.cPass === '' && this.state.crudState !== 3) throw \"ERROR: Confirm Password was left blank.\"\r\n\t\t\tif (this.state.cPass !== this.state.pass && this.state.crudState !== 3) throw \"ERROR: Passwords do not match.\"\r\n\t\t}\r\n\t\tcatch(err){\r\n\t\t\tthis.setState({ error: err })\r\n\t\t\tif (document.getElementById(\"error\") !== null) {\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\r\n\t\t//database section\r\n\t\tthis.crudUse();\r\n\r\n\t\t//Success section\r\n\t\tif (document.getElementById(\"error\") !== null) {\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tuser: '',\r\n\t\t\ttype: this.state.editUser.type,\r\n\t\t\tpass: '',\r\n\t\t\tcPass: '',\r\n\t\t\tselectedName: this.state.editUser.username\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tonCancel() {\r\n\t\tconsole.log(\"Cancel called: lbl\" + this.state.selectedName);\r\n\t\tif (this.state.selectedName !== '') {\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('focus');\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('active');\r\n\t\t}\r\n\r\n\t\tif (this.state.selCrud === 'option2') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(2, 1);\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(3, 1);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\tuser: '',\r\n\t\t\ttype: 'Admin',\r\n\t\t\tpass: '',\r\n\t\t\tcPass: '',\r\n\t\t\tselectedName: ''\r\n\t\t});\r\n\t\tconsole.log(document.getElementById(\"error\"))\r\n\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t}\r\n\r\n\tonChange(event) {\r\n\t\tconsole.log(\"eventname: \" + event.target.name);\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n\t//[CRUD Functions] - User\r\n\tgetAllUsers() {\r\n\t\t//this.setState({ users: [] })\r\n\r\n\r\n\t\taxios.get(this.state.path + ':5000/user/')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ users: res.data });\r\n\t\t\t}).finally(()=>{\r\n\t\t\t\tif(localStorage.getItem(\"docid\")){\r\n\t\t\t\t\tconsole.log(this.state.users.findIndex(i => i._id === localStorage.getItem(\"docid\")))\r\n\t\t\t\t\tlet i = this.state.users.findIndex(i => i._id === localStorage.getItem(\"docid\"))\r\n\t\t\t\t\tconsole.log(localStorage.getItem(\"docid\"))\r\n\t\t\t\t\taxios.get(this.state.path + ':5000/user/' + localStorage.getItem(\"docid\"))\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tthis.setState({ editUser: res.data });\r\n\t\t\t\t\t\t\t}).finally(()=>{\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tuser: this.state.editUser.username,\r\n\t\t\t\t\t\t\t\t\ttype: this.state.editUser.type,\r\n\t\t\t\t\t\t\t\t\tpass: '',\r\n\t\t\t\t\t\t\t\t\tcPass: '',\r\n\t\t\t\t\t\t\t\t\tselectedName: this.state.editUser.username,\r\n\t\t\t\t\t\t\t\t\tcrudState: 2,\r\n\t\t\t\t\t\t\t\t\tselectedIndex: i\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tconsole.log(\"test: \" + this.state.selectedIndex)\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('focus');\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('active');\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('focus');\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('active');\r\n\t\t\t\t\t\t})\r\n\t\t\r\n\t\t\t\t\tlocalStorage.removeItem(\"docid\")\r\n\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tcrudUse() {\r\n\r\n\t\tconst username = this.state.user\r\n\t\tconst type = this.state.type\r\n\t\tconst password = this.state.pass\r\n\t\tlet createdBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedDate = new Date();\r\n\t\tlet createdDate = new Date();\r\n\t\tconsole.log(\"test this mess: \" + updatedBy)\r\n\t\t\r\n\t\tswitch (this.state.crudState) {\r\n\t\t\tcase 0: //create\r\n\t\t\t\t//created then updated\r\n\t\t\t\tlet check;\r\n\t\t\t\t\r\n\t\t\t\taxios.get(this.state.path + ':5000/user/u/' + username)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.data !== null) {// as long as something is there\r\n\t\t\t\t\t\t\tcheck = res.data.username;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\tif (check === username) {// as long as something is there\r\n\t\t\t\t\t\t\tthis.setState({ error: \"Username already exists.\" });\r\n\t\t\t\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\taxios.post(this.state.path + ':5000/user/', { username, type, password, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\t\t\tthis.getAllUsers();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1: //read\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tthis.state({ editUser: res.data });\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2: //update\r\n\t\t\t\t\tcreatedBy = this.state.editUser.createdBy\r\n\t\t\t\t\tcreatedDate = this.state.editUser.createdDate\r\n\t\t\t\t\r\n\t\t\t\taxios.put(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id, { username, type, password, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh func\r\n\t\t\t\t\t\tthis.getAllUsers();\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3: //delete\r\n\t\t\t\taxios.delete(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((result) => {\r\n\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllUsers();\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<Top />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border d-none d-lg-block recent height-cap\">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical force-scroll\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.users.map((user, index) => (\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<label id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input  type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleUserChange}  />\r\n\t\t\t\t\t\t\t\t\t\t\t<div>{user.username}</div>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border calendar \">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"btn-group btn-group-toggle w-100\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption1\" className=\"btn btn-secondary active\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option1\" value=\"option1\" checked={this.state.selCrud === 'option1'} onClick={this.handleCrudChange} /> New\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option2\" value=\"option2\" checked={this.state.selCrud === 'option2'} onClick={this.handleCrudChange}/> Save\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option3\" value=\"option3\" checked={this.state.selCrud === 'option3'} onClick={this.handleCrudChange}/> Delete\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h5 className=\"text-center\">{this.state.header}</h5>\r\n\t\t\t\t\t\t\t<div className=\"alert alert-danger d-none\" id=\"error\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t{this.state.error}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Username</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"user\" value={this.state.user} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Permission Type</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<select className=\"form-control\" name='type' value={this.state.type} onChange={this.onChange} disabled={this.state.disabled} id=\"type\">\r\n\t\t\t\t\t\t\t\t\t<option>Admin</option>\r\n\t\t\t\t\t\t\t\t\t<option>Dispatcher</option>\r\n\t\t\t\t\t\t\t\t\t<option>Field Worker</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Password</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" name=\"pass\" value={this.state.pass} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Confirm Password</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" name=\"cPass\" value={this.state.cPass} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.onSubmit}>{this.state.lbutton}</button> <button type=\"button\" className=\"btn btn-primary\" onClick={this.onCancel}>{this.state.rbutton}</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col border user d-lg-none \">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.users.map((user, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<label id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input  type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleUserChange}  />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{user.username}</div>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default users;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\nimport Top from './../routes/top';\r\n\r\n\r\n\r\nclass customers extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: 0,\r\n\t\t\tselected: '',\r\n\t\t\tcUser: '',\r\n\t\t\tuid: '',\r\n\t\t\tname: '',\r\n\t\t\taddress: '',\r\n\t\t\taddress2: '',\r\n\t\t\tcity: '',\r\n\t\t\tzip: '',\r\n\t\t\tphone: '',\r\n\t\t\tedit: '',\r\n\t\t\tlbutton: 'Save',\r\n\t\t\trbutton: 'Cancel',\r\n\t\t\tselCrud: 'option1',\r\n\t\t\tselectedName: '',\r\n\t\t\tselectedIndex: 0,\r\n\t\t\tdisabled: false,\r\n\t\t\theader: 'Create New Customer',\r\n\t\t\tdocuments: [],\r\n\t\t\terror: '',\r\n\t\t\ttest: []\r\n\t\t};\r\n\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.onCancel = this.onCancel.bind(this);\r\n\r\n\t\tthis.handleCrudChange = this.handleCrudChange.bind(this);\r\n\t\tthis.handleEditChange = this.handleEditChange.bind(this);\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log(localStorage.getItem(\"userType\") === \"\")\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") === \"Field Worker\") {\r\n\t\t\tif(this.props.history !== undefined){this.props.history.push('/')}\r\n\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tthis.setState({\r\n\t\t\tcUser: localStorage.getItem(\"currentUser\"),\r\n\t\t\tuid: localStorage.getItem(\"userId\")\r\n\t\t})\r\n\t\tthis.getAllDocuments();\r\n\t}\r\n\r\n\r\n\tcrudRefresh(o, n) {\r\n\t\tdocument.getElementById(\"lbloption\" + o).classList.remove('focus');\r\n\t\tdocument.getElementById(\"lbloption\" + o).classList.remove('active');\r\n\t\tdocument.getElementById(\"lbloption\" + n).classList.add('focus');\r\n\t\tdocument.getElementById(\"lbloption\" + n).classList.add('active');\r\n\t\tthis.setState({\r\n\t\t\tlbutton: 'Save',\r\n\t\t\tdisabled: false\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\r\n\tinputReset() {\r\n\t\tthis.setState({\r\n\t\t\tname: '',\r\n\t\t\taddress: '',\r\n\t\t\taddress2: '',\r\n\t\t\tcity: '',\r\n\t\t\tzip: '',\r\n\t\t\tphone: ''\r\n\t\t});\r\n\t}\r\n\r\n\tinputFill(n, a, a2, c, z, p) {\r\n\t\tthis.setState({\r\n\t\t\tname: n,\r\n\t\t\taddress: a,\r\n\t\t\taddress2: a2,\r\n\t\t\tcity: c,\r\n\t\t\tzip: z,\r\n\t\t\tphone: p\r\n\t\t});\r\n\t}\r\n\r\n\r\n\thandleEditChange(event) {\r\n\t\tlet i = event.target.value;\r\n\r\n\r\n\t\tif (this.state.selCrud === 'option1') {\r\n\t\t\tthis.crudRefresh(1, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tthis.crudRefresh(3, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\taxios.get(this.state.path + ':5000/customer/' + this.state.documents[i]._id)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(\"t\" + res.data.name)\r\n\t\t\t\tthis.setState({ edit: res.data });\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tconsole.log(\"t2\" + this.state.edit.name)\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tname: this.state.edit.name,\r\n\t\t\t\t\taddress: this.state.edit.address,\r\n\t\t\t\t\taddress2: this.state.edit.address2,\r\n\t\t\t\t\tcity: this.state.edit.city,\r\n\t\t\t\t\tzip: this.state.edit.zip,\r\n\t\t\t\t\tphone: this.state.edit.phone,\r\n\t\t\t\t\tselectedName: \"customer\" + i,\r\n\t\t\t\t\tselectedIndex: i,\r\n\t\t\t\t\tcrudState: 2\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t}\r\n\r\n\thandleCrudChange(event) {\r\n\r\n\t\tif (event.target.value === 'option1') {\r\n\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t\t\tthis.inputReset();\r\n\r\n\t\t\tthis.setState({\r\n\t\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tselectedName: '',\r\n\t\t\t\tselectedIndex: -1,\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 0\r\n\t\t\t});\r\n\r\n\t\t} else if (event.target.value === 'option2') {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to edit a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(2, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('save time')\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 2\r\n\t\t\t});\r\n\r\n\r\n\t\t} else {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to delete a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(3, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('sdel time')\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Delete',\r\n\t\t\t\tdisabled: true,\r\n\t\t\t\tcrudState: 3\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tselCrud: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.setState({ error: '' })\r\n\t\ttry{\r\n\t\t\tif (this.state.name === '' && this.state.crudState !== 3) throw \"ERROR: Name was left blank.\"\r\n\t\t\tif (this.state.address === '' && this.state.crudState !== 3) throw \"ERROR: Address was left blank.\"\r\n\t\t\tif (this.state.city === '' && this.state.crudState !== 3) throw \"ERROR: City was left blank.\"\r\n\t\t\tif (this.state.zip === '' && this.state.crudState !== 3) throw \"ERROR: Zip was left blank.\"\r\n\t\t\tif (this.state.phone === '' && this.state.crudState !== 3) throw \"ERROR: Phone number was left blank.\"\r\n\t\t}\r\n\t\tcatch(err){\r\n\t\t\tthis.setState({ error: err })\r\n\t\t\tif(document.getElementById(\"error\") !== null){\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//database section\r\n\t\tthis.crudUse();\r\n\r\n\t\t//Success section\r\n\t\tif(document.getElementById(\"error\") !== null){\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\t\t}\r\n\r\n\t\tthis.inputReset();\r\n\r\n\t\tthis.setState({\r\n\t\t\tselectedName: this.state.edit.name\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tonCancel(event) {\r\n\t\tconsole.log(\"Cancel called: lbl\" + this.state.selectedName);\r\n\t\tif (this.state.selectedName !== '') {\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('focus');\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('active');\r\n\t\t}\r\n\r\n\t\tif (this.state.selCrud === 'option2') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(2, 1);\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(3, 1);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.inputReset();\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\tselectedName: ''\r\n\t\t});\r\n\r\n\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t}\r\n\r\n\tonChange(event) {\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n\t//[CRUD Functions] - User\r\n\tgetAllDocuments() {\r\n\t\taxios.get(this.state.path + ':5000/customer/')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ documents: res.data });\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tif(localStorage.getItem(\"docid\")){\r\n\t\t\t\t\tlet i = this.state.documents.findIndex(i => i._id === localStorage.getItem(\"docid\"))\r\n\t\t\t\t\tconsole.log(localStorage.getItem(\"docid\"))\r\n\r\n\t\t\t\t\taxios.get(this.state.path + ':5000/customer/' + localStorage.getItem(\"docid\"))\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\r\n\t\t\t\t\t\t\tthis.setState({ edit: res.data });\r\n\t\t\t\t\t\t}).finally(() =>{\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tname: this.state.edit.name,\r\n\t\t\t\t\t\t\t\taddress: this.state.edit.address,\r\n\t\t\t\t\t\t\t\taddress2: this.state.edit.address2,\r\n\t\t\t\t\t\t\t\tcity: this.state.edit.city,\r\n\t\t\t\t\t\t\t\tzip: this.state.edit.zip,\r\n\t\t\t\t\t\t\t\tphone: this.state.edit.phone,\r\n\t\t\t\t\t\t\t\tcrudState: 2,\r\n\t\t\t\t\t\t\t\tselectedName: \"customer\" + i,\r\n\t\t\t\t\t\t\t\tselectedIndex: i\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('focus');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('active');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('focus');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('active');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"docid\")\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tcrudUse() {\r\n\r\n\t\tconst uid = this.state.uid\r\n\t\tconst name = this.state.name\r\n\t\tconst address = this.state.address\r\n\t\tconst address2 = this.state.address2\r\n\t\tconst city = this.state.city\r\n\t\tconst zip = this.state.zip\r\n\t\tconst phone = this.state.phone\r\n\t\tlet createdBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedDate = new Date();\r\n\t\tlet createdDate = new Date();\r\n\t\tswitch (this.state.crudState) {\r\n\t\t\tcase 0: //create\r\n\t\t\t\t//created then updated\r\n\r\n\t\t\t\taxios.post(this.state.path + ':5000/customer/', { uid, name, address, address2, city, zip, phone, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllDocuments();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1: //read\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/customer/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tthis.state({ edit: res.data });\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2: //update\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/customer/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tcreatedBy = res.data.createdBy;\r\n\t\t\t\t\t\tcreatedDate = res.data.createdDate;\r\n\t\t\t\t\t}).finally(() => {\r\n\r\n\t\t\t\t\t\taxios.put(this.state.path + ':5000/customer/' + this.state.documents[this.state.selectedIndex]._id, {uid, name, address, address2, city, zip, phone, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\r\n\t\t\t\t\t\t\t\t//call refresh func\r\n\t\t\t\t\t\t\t\tthis.getAllDocuments();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3: //delete\r\n\t\t\t\taxios.delete(this.state.path + ':5000/customer/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((result) => {\r\n\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllDocuments();\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<Top />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border d-none d-lg-block recent height-cap\">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical force-scroll\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.documents.map((document, index) => (\r\n\r\n\t\t\t\t\t\t\t\t\t\t<label key={'customer'+index} id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleEditChange} />{document.name}\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border input-col \">\r\n\t\t\t\t\t\t\t<div className=\"btn-group btn-group-toggle w-100\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption1\" className=\"btn btn-secondary active\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option1\" value=\"option1\"  onClick={this.handleCrudChange} /> New\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option2\" value=\"option2\"  onClick={this.handleCrudChange} /> Save\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option3\" value=\"option3\"  onClick={this.handleCrudChange} /> Delete\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t<h5 className=\"text-center\">{this.state.header}</h5>\r\n\t\t\t\t\t\t\t<div className=\"alert alert-danger d-none\" id=\"error\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t{this.state.error}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Name</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"name\" value={this.state.name} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Address</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"address\" value={this.state.address} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Address 2</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"address2\" value={this.state.address2} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >City</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"city\" value={this.state.city} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Zip</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"zip\" value={this.state.zip} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Phone</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"phone\" value={this.state.phone} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.onSubmit}>{this.state.lbutton}</button> <button type=\"button\" className=\"btn btn-primary\" onClick={this.onCancel}>{this.state.rbutton}</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col border user d-lg-none \">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.documents.map((document, index) => (\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row namelist\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-secondary btn-lg btn-block\">{document.name}</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default customers;\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\nimport Top from './../routes/top';\r\n\r\n\r\nclass appointments extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: 0,\r\n\t\t\tselected: '',\r\n\t\t\tcUser: '',\r\n\t\t\tuid: '',\r\n\t\t\tcid: '',\r\n\t\t\ttitle: '',\r\n\t\t\trate: '',\r\n\t\t\tsupply: '',\r\n\t\t\ttotal: '',\r\n\t\t\thours: '',\r\n\t\t\toverlap: false,\r\n\t\t\ttype: 'rout',\r\n\t\t\ttasks: '',\r\n\t\t\tnotes: '',\r\n\t\t\tedit: '',\r\n\t\t\tlbutton: 'Save',\r\n\t\t\trbutton: 'Cancel',\r\n\t\t\tselCrud: 'option1',\r\n\t\t\tselectedName: '',\r\n\t\t\tselectedIndex: 0,\r\n\t\t\tdisabled: false,\r\n\t\t\theader: 'Create New Appointmennt',\r\n\t\t\tdocuments: [],\r\n\t\t\tcustomers: [],\r\n\t\t\tworkers: [],\r\n\t\t\tcustid: '',\r\n\t\t\tworkerid: '',\r\n\t\t\tworkername: '',\r\n\t\t\tselCust: '',\r\n\t\t\tselCustId: '',\r\n\t\t\terror: '',\r\n\t\t\ttest2: 2,\r\n\t\t\ttest: []\r\n\t\t};\r\n\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.onSelect = this.onSelect.bind(this);\r\n\r\n\t\tthis.onCancel = this.onCancel.bind(this);\r\n\t\tthis.onChecked = this.onChecked.bind(this);\r\n\r\n\r\n\t\tthis.handleCrudChange = this.handleCrudChange.bind(this);\r\n\t\tthis.handleAppChange = this.handleAppChange.bind(this);\r\n\t\tthis.handleCustomerChange = this.handleCustomerChange.bind(this);\r\n\t\tthis.handleEditChange = this.handleEditChange.bind(this);\r\n\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconsole.log(this.state.path)\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") === \"Field Worker\") {\r\n\t\t\tif(this.props.history !== undefined){this.props.history.push('/')}\r\n\r\n\t\t}\r\n\r\n\t\tthis.getAllDocuments();\r\n\t\tthis.getAllCustomers();\r\n\t\tthis.getAllWorkers();\r\n\r\n\t}\r\n\r\n\tcrudRefresh(o, n) {\r\n\t\tdocument.getElementById(\"lbloption\" + o).classList.remove('focus');\r\n\t\tdocument.getElementById(\"lbloption\" + o).classList.remove('active');\r\n\t\tdocument.getElementById(\"lbloption\" + n).classList.add('focus');\r\n\t\tdocument.getElementById(\"lbloption\" + n).classList.add('active');\r\n\t\tthis.setState({\r\n\t\t\tlbutton: 'Save',\r\n\t\t\tdisabled: false\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\r\n\ttypeRefresh(o, n) {\r\n\t\tdocument.getElementById(\"lbltype\" + o).classList.remove('focus');\r\n\t\tdocument.getElementById(\"lbltype\" + o).classList.remove('active');\r\n\t\tdocument.getElementById(\"lbltype\" + n).classList.add('focus');\r\n\t\tdocument.getElementById(\"lbltype\" + n).classList.add('active');\r\n\t}\r\n\r\n\tgetTypeVal(s) {\r\n\t\tlet val = '';\r\n\t\tswitch (s) {\r\n\t\t\tcase \"rout\":\r\n\t\t\t\tval = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"cons\":\r\n\t\t\t\tval = 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"spec\":\r\n\t\t\t\tval = 3;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn val;\r\n\t}\r\n\tinputReset() {\r\n\t\tthis.setState({\r\n\t\t\tworkerid: '',\r\n\t\t\tworkername: '',\r\n\t\t\tcid: '',\r\n\t\t\ttitle: '',\r\n\t\t\tdate: '',\r\n\t\t\tstime: '',\r\n\t\t\tetime: '',\r\n\t\t\trate: '',\r\n\t\t\tsupply: '',\r\n\t\t\ttotal: '',\r\n\t\t\thours: '',\r\n\t\t\ttasks: '',\r\n\t\t\tnotes: ''\r\n\t\t});\r\n\t}\r\n\r\n\tlzMinute(dt){\r\n\t\treturn (dt.getMinutes() < 10 ? '0' : '') + dt.getMinutes();\r\n\t}\r\n\r\n\tlzHour(dt){\r\n\t\treturn (dt.getHours() < 10 ? '0' : '') + dt.getHours();\r\n\t}\r\n\r\n\troundMinutes(date) {\r\n\r\n\t\tdate.setHours(date.getHours() + Math.round(date.getMinutes() / 60));\r\n\t\tdate.setMinutes(0, 0, 0); // Resets also seconds and milliseconds\r\n\r\n\t\treturn date;\r\n\t}\r\n\r\n\thandleEditChange(event) {\r\n\t\tlet i = event.target.value;\r\n\r\n\r\n\t\tif (this.state.selCrud === 'option1') {\r\n\t\t\tthis.crudRefresh(1, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tthis.crudRefresh(3, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t}\r\n\t\tif(this.state.custid === undefined){\r\n\t\t\tdocument.getElementById('customer').selectedIndex = \"0\";\r\n\t\t}\r\n\r\n\t\taxios.get(this.state.path + ':5000/appointment/' + this.state.documents[i]._id)\r\n\t\t\t.then((res) => {\r\n\r\n\t\t\t\tthis.setState({ edit: res.data });\r\n\r\n\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tlet sdate = new Date(this.state.edit.stime);\r\n\t\t\t\tlet edate = new Date(this.state.edit.etime);\r\n\t\t\t\tlet oldty = this.getTypeVal(this.state.type);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcustid: this.state.edit.custid,\r\n\t\t\t\t\tworkerid: this.state.edit.userid,\r\n\t\t\t\t\ttitle: this.state.edit.title,\r\n\t\t\t\t\trate: this.state.edit.rate,\r\n\t\t\t\t\tsupply: this.state.edit.supply,\r\n\t\t\t\t\ttotal: this.state.edit.total,\r\n\t\t\t\t\thours: this.state.edit.hours,\r\n\t\t\t\t\toverlap: this.state.edit.overlap,\r\n\t\t\t\t\tdate: this.state.edit.stime.substring(0,this.state.edit.stime.indexOf('T')),\r\n\t\t\t\t\tstime: this.lzHour(sdate) + \":\" + this.lzMinute(sdate),\r\n\t\t\t\t\tetime: this.lzHour(edate) + \":\" + this.lzMinute(edate),\r\n\t\t\t\t\ttype: this.state.edit.type,\r\n\t\t\t\t\ttasks: this.state.edit.tasks,\r\n\t\t\t\t\tnotes: this.state.edit.notes,\r\n\t\t\t\t\tselectedName: \"customer\" + i,\r\n\t\t\t\t\tselectedIndex: i,\r\n\t\t\t\t\tcrudState: 2\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.typeRefresh(oldty, this.getTypeVal(this.state.type))\r\n\r\n\t\t\t\tswitch (this.state.type) {\r\n\t\t\t\t\tcase \"rout\":\r\n\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"cons\":\r\n\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.add('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"total\").classList.add('d-none');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"spec\":\r\n\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.remove('d-none');\r\n\t\t\t\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\r\n\r\n\r\n\r\n\t}\r\n\r\n\thandleCrudChange(event) {\r\n\r\n\t\tif (event.target.value === 'option1') {\r\n\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t\t\tthis.inputReset();\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tselectedName: '',\r\n\t\t\t\tselectedIndex: -1,\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 0\r\n\t\t\t});\r\n\r\n\t\t} else if (event.target.value === 'option2') {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to edit a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(2, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 2\r\n\t\t\t});\r\n\r\n\r\n\t\t} else {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to delete a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(3, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Delete',\r\n\t\t\t\tdisabled: true,\r\n\t\t\t\tcrudState: 3\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tselCrud: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\thandleAppChange(event) {\r\n\r\n\t\tif (event.target.value === 'apptype1') {\r\n\t\t\tdocument.getElementById(\"tasks\").classList.remove('d-none');\r\n\t\t\tdocument.getElementById(\"tasks-label\").classList.remove('d-none');\r\n\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\t\t\tthis.setState({type : 'rout' })\r\n\t\t\t\r\n\r\n\t\t} else if (event.target.value === 'apptype2') {\r\n\t\t\tdocument.getElementById(\"tasks\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"tasks-label\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"rate\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"total\").classList.add('d-none');\r\n\r\n\r\n\t\t\tthis.setState({ type: 'cons' })\r\n\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(\"tasks\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"tasks-label\").classList.add('d-none');\r\n\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\tdocument.getElementById(\"supply\").classList.remove('d-none');\r\n\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\r\n\r\n\t\t\tthis.setState({ type: 'spec' })\r\n\t\t}\r\n\r\n\t}\r\n\r\n\thandleCustomerChange(event) {\r\n\t\tthis.setState({\r\n\t\t\tselCust: this.state.customers[event.target.value].name,\r\n\t\t\tcustid: this.state.customers[event.target.value]._id,\r\n\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tonChecked() {\r\n\t\tif (this.state.overlap === false)\r\n\t\t\tthis.setState({ overlap: true })\r\n\t\tif (this.state.overlap === true)\r\n\t\t\tthis.setState({ overlap: false })\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.setState({ error: '' })\r\n\r\n\t\tconst stime = new Date(this.state.date + \" \" + this.state.stime);\r\n\t\tconst etime = new Date(this.state.date + \" \" + this.state.etime);\r\n\t\t\r\n\t\tlet\topening = new Date(this.state.date + \" \" + \"06:00\");\r\n\t\tlet\tclosing = new Date(this.state.date + \" \" + \"20:00\");\r\n\t\tlet\ts = new Date(this.state.date + \" \" + this.state.stime);\r\n\t\tlet\te = new Date(this.state.date + \" \" + this.state.etime);\r\n\r\n\t\ttry{\r\n\t\t\tif (this.state.title === '' && this.state.crudState !== 3) throw \"ERROR: Title was left blank.\"\r\n\t\t\tif (this.state.custid === '' && this.state.crudState !== 3) throw \"ERROR: Customer was not selected.\"\r\n\t\t\tif (this.state.workerid === '' && this.state.crudState !== 3) throw \"ERROR: Field Worker was not selected.\"\r\n\t\t\tif (this.state.date === undefined && this.state.crudState !== 3) throw \"ERROR: Date was not selected.\"\r\n\t\t\tif (this.state.stime === undefined && this.state.crudState !== 3) throw \"ERROR: Start time was not selected.\"\r\n\t\t\tif (this.state.etime === undefined && this.state.crudState !== 3) throw \"ERROR: End time was not selected.\"\r\n\t\t\tif (this.state.rate === '' && this.state.crudState !== 3 && this.state.type !== 'cons') throw \"ERROR: Charge rate was left blank.\" \r\n\t\t\tif (this.state.total === '' && this.state.crudState !== 3 && this.state.type !== 'cons') throw \"ERROR: Total rate was left blank.\" \r\n\t\t\tif (e.getHours() < s.getHours() && this.state.crudState !== 3) throw \"ERROR: Ending time must be higher than starting time. \"\r\n\t\t\tif (s.getHours() < opening.getHours() && this.state.crudState !== 3) throw \"ERROR: Starting time is lower than the opening time.\"\r\n\t\t\tif (s.getHours() > closing.getHours() && this.state.crudState !== 3) throw \"ERROR: Starting time is higher than the closing time.\"\r\n\t\t\tif (e.getHours() < opening.getHours() && this.state.crudState !== 3) throw \"ERROR: Ending time is lower than the opening time.\"\r\n\t\t\tif (e.getHours() > closing.getHours() && this.state.crudState !== 3) throw \"ERROR: Ending time is higher than the closing time.\"\r\n\t\t}\r\n\t\tcatch(err){\r\n\t\t\tthis.setState({ error: err })\r\n\t\t\tif(document.getElementById(\"error\") !== null){\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\r\n\t\tlet eflag = false;\r\n\t\taxios.get(this.state.path + ':5000/appointment/d/' + stime.getFullYear() + '/' + (parseInt(stime.getMonth())+1) + '/' + stime.getDate())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach(app => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(stime >= new Date(app.stime) && stime <= new Date(app.etime) && this.state.workerid === app.userid && this.state.crudState !== 3 && this.state.overlap === false){\r\n\t\t\t\t\t\teflag = true;\r\n\t\t\t\t\t\tthis.setState({ error: 'ERROR: Start time is overlapping with another appointment called: ' + app.title + \"; Assigned to the currently selected worker\"})\r\n\t\t\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\t\t\treturn; \r\n\t\t\t\t\t}else if(etime >= new Date(app.stime) && etime <= new Date(app.etime) && this.state.workerid === app.userid && this.state.crudState !== 3 && this.state.overlap === false){\r\n\t\t\t\t\t\teflag = true;\r\n\t\t\t\t\t\tthis.setState({ error: 'ERROR: End time is overlapping with another appointment called: ' + app.title + \"; Assigned to the currently selected worker\"})\r\n\t\t\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t}).finally((res) => {\r\n\t\t\t\tif(eflag === true){return;}\r\n\t\t\t\t//database section\r\n\t\t\t\tthis.crudUse();\r\n\r\n\t\t\t\t//Success section\r\n\t\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t\t\t\tthis.inputReset();\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tselectedName: this.state.edit.name\r\n\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t})\r\n\r\n\t}\r\n\r\n\tonCancel(event) {\r\n\t\tif (this.state.selectedName !== '') {\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('focus');\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('active');\r\n\t\t}\r\n\r\n\t\tif (this.state.selCrud === 'option2') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(2, 1);\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(3, 1);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tthis.inputReset();\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\tselectedName: ''\r\n\t\t});\r\n\r\n\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t}\r\n\r\n\tonSelect(event) {\r\n\t\tif(event.target.name === 'customer'){\r\n\t\t\tthis.setState(\r\n\t\t\t\t{ custid : event.target.value}\r\n\t\t\t)\r\n\t\t} else if( event.target.name === 'worker'){\r\n\r\n\r\n\t\t\tthis.setState(\r\n\t\t\t\t{ workerid : event.target.value\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tonChange(event) {\r\n\t\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t\tlet s = '';\r\n\t\tlet e = '';\r\n\t\tlet opening = '';\r\n\t\tlet closing = '';\r\n\r\n\t\tif (this.state.date !== '' && this.state.stime !== '' && this.state.stime !== '') {\r\n\t\t\topening = new Date(this.state.date + \" \" + \"06:00\");\r\n\t\t\tclosing = new Date(this.state.date + \" \" + \"20:00\");\r\n\t\t\ts = new Date(this.state.date + \" \" + this.state.stime);\r\n\t\t\te = new Date(this.state.date + \" \" + this.state.etime);\r\n\t\t\tlet e2 = (e.getHours()+e.getMinutes()/60);\r\n\t\t\tlet s2 = (s.getHours()+s.getMinutes()/60); \r\n\r\n\t\t\tif (e.getHours() < s.getHours()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\t\t\tif (this.state.supply !== '' && this.state.type === 'spec') {\r\n\t\t\t\tlet v = this.state.rate * (e2 - s2) + parseFloat(this.state.supply);\r\n\t\t\t\tthis.setState({ total: v.toFixed(2),\r\n\t\t\t\t\thours: (e2-s2).toFixed(1)\r\n\t\t\t\t}) \r\n\t\t\t} else {\r\n\t\t\t\tlet v = this.state.rate * (e2 - s2);\r\n\t\t\t\tthis.setState({ total: v.toFixed(2), \r\n\t\t\t\t\thours: (e2-s2).toFixed(2)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\r\n\t}\r\n\r\n\t//[CRUD Functions] - User\r\n\tgetAllDocuments() {\r\n\t\taxios.get(this.state.path + ':5000/appointment/' )\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ documents: res.data });\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tif(localStorage.getItem(\"docid\")){\r\n\t\t\t\t\tlet i = this.state.documents.findIndex(i => i._id === localStorage.getItem(\"docid\"))\r\n\t\t\t\t\tconsole.log(localStorage.getItem(\"docid\"))\r\n\r\n\t\t\t\t\taxios.get(this.state.path + ':5000/appointment/' + localStorage.getItem(\"docid\"))\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\r\n\t\t\t\t\t\t\tthis.setState({ edit: res.data });\r\n\t\t\t\t\t\t}).finally(() =>{\r\n\t\t\t\t\t\t\tlet sdate = new Date(this.state.edit.stime);\r\n\t\t\t\t\t\t\tlet edate = new Date(this.state.edit.etime);\r\n\t\t\t\t\t\t\tlet oldty = this.getTypeVal(this.state.type);\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tcustid: this.state.edit.custid,\r\n\t\t\t\t\t\t\t\tworkerid: this.state.edit.userid,\r\n\t\t\t\t\t\t\t\ttitle: this.state.edit.title,\r\n\t\t\t\t\t\t\t\trate: this.state.edit.rate,\r\n\t\t\t\t\t\t\t\tsupply: this.state.edit.supply,\r\n\t\t\t\t\t\t\t\ttotal: this.state.edit.total,\r\n\t\t\t\t\t\t\t\thours: this.state.edit.hours,\r\n\t\t\t\t\t\t\t\toverlap: this.state.edit.overlap,\r\n\t\t\t\t\t\t\t\tdate: this.state.edit.stime.substring(0,this.state.edit.stime.indexOf('T')),\r\n\t\t\t\t\t\t\t\tstime: this.lzHour(sdate) + \":\" + this.lzMinute(sdate),\r\n\t\t\t\t\t\t\t\tetime: this.lzHour(edate) + \":\" + this.lzMinute(edate),\r\n\t\t\t\t\t\t\t\ttype: this.state.edit.type,\r\n\t\t\t\t\t\t\t\ttasks: this.state.edit.tasks,\r\n\t\t\t\t\t\t\t\tnotes: this.state.edit.notes,\r\n\t\t\t\t\t\t\t\tselectedName: \"customer\" + i,\r\n\t\t\t\t\t\t\t\tselectedIndex: i,\r\n\t\t\t\t\t\t\t\tcrudState: 2\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tthis.typeRefresh(oldty, this.getTypeVal(this.state.type))\r\n\r\n\t\t\t\t\t\t\tswitch (this.state.type) {\r\n\t\t\t\t\t\t\t\tcase \"rout\":\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"cons\":\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.add('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.add('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"total\").classList.add('d-none');\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase \"spec\":\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"rate\").classList.remove('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"supply\").classList.remove('d-none');\r\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"total\").classList.remove('d-none');\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('focus');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('active');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('focus');\r\n\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('active');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"docid\")\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetAllCustomers() {\r\n\t\taxios.get(this.state.path + ':5000/customer/')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ customers: res.data });\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetAllWorkers(){\r\n\t\tlet tempworkers = []\r\n\t\taxios.get(this.state.path + ':5000/user/')\r\n\t\t\t.then(res => {\r\n\t\t\t\t\r\n\t\t\t\tres.data.forEach(user => {\r\n\t\t\t\t\tif(user.type === \"Field Worker\"){\r\n\t\t\t\t\t\ttempworkers.push(user)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.setState({ workers: tempworkers });\r\n\t\t\t});\r\n\t}\r\n\r\n\r\n\tcrudUse() {\r\n\r\n\r\n\t\tconst userid = this.state.workerid;\r\n\t\tconst custid = this.state.custid\r\n\t\tconst title = this.state.title\r\n\t\tconst rate = this.state.rate\r\n\t\tconst supply = this.state.supply\r\n\t\tconst total = this.state.total\r\n\t\tconst hours = this.state.hours\r\n\t\tconst stime = new Date(this.state.date + \" \" + this.state.stime);\r\n\t\tconst etime = new Date(this.state.date + \" \" + this.state.etime);\r\n\t\tconst overlap = this.state.overlap\r\n\t\tconst type = this.state.type\r\n\t\tconst tasks = this.state.tasks\r\n\t\tconst notes = this.state.notes\r\n\t\tlet createdBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedDate = new Date();\r\n\t\tlet createdDate = new Date();\r\n\r\n\t\tswitch (this.state.crudState) {\r\n\t\t\tcase 0: //create\r\n\t\t\t\t//created then updated\r\n\r\n\t\t\t\taxios.post(this.state.path + ':5000/appointment/', { userid, custid, title, rate, supply, total, hours, overlap, type, tasks, notes, stime, etime, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllDocuments();\r\n\t\t\t\t\t\tthis.getAllCustomers();\r\n\t\t\t\t\t\tthis.getAllWorkers();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1: //read\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/appointment/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tthis.state({ edit: res.data });\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2: //update\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/appointment/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tcreatedBy = res.data.createdBy;\r\n\t\t\t\t\t\tcreatedDate = res.data.createdDate;\r\n\t\t\t\t\t}).finally(() => {\r\n\r\n\t\t\t\t\t\taxios.put(this.state.path + ':5000/appointment/' + this.state.documents[this.state.selectedIndex]._id, { userid, custid, title, rate, supply, total, hours, overlap, type, notes, stime, etime, createdBy, updatedBy, createdDate, updatedDate  })\r\n\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\r\n\t\t\t\t\t\t\t\t//call refresh func\r\n\t\t\t\t\t\t\t\tthis.getAllDocuments();\r\n\t\t\t\t\t\t\t\tthis.getAllCustomers();\r\n\t\t\t\t\t\t\t\tthis.getAllWorkers();\r\n\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3: //delete\r\n\t\t\t\taxios.delete(this.state.path + ':5000/appointment/' + this.state.documents[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((result) => {\r\n\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllDocuments();\r\n\t\t\t\t\t\tthis.getAllCustomers();\r\n\t\t\t\t\t\tthis.getAllWorkers();\r\n\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<Top />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border d-none d-lg-block recent height-cap\">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical force-scroll\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.documents.map((document, index) => (\r\n\r\n\t\t\t\t\t\t\t\t\t\t<label key={'customer' + index} id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleEditChange} />{document.title}\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border input-col \">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"btn-group btn-group-toggle w-100\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption1\" className=\"btn btn-secondary active\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option1\" value=\"option1\" onClick={this.handleCrudChange} /> New\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option2\" value=\"option2\" onClick={this.handleCrudChange} /> Save\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option3\" value=\"option3\" onClick={this.handleCrudChange} /> Delete\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t<h5 className=\"text-center\">{this.state.header}</h5>\r\n\t\t\t\t\t\t\t<div className=\"alert alert-danger d-none\" id=\"error\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t{this.state.error}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t<div className=\"btn-group btn-group-toggle w-100 mb-4\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbltype1\" className=\"btn btn-secondary active focus\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"apptype\" id=\"apptype1\" value=\"apptype1\" onClick={this.handleAppChange} /> Labor\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t<label id=\"lbltype2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"apptype\" id=\"apptype2\" value=\"apptype2\" onClick={this.handleAppChange} /> Consultation\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbltype3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"apptype\" id=\"apptype3\" value=\"apptype3\" onClick={this.handleAppChange} /> Special Order\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Title</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"title\" value={this.state.title} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Customer</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<select className=\"form-control\" id=\"customer\" name='customer' value={this.state.custid} disabled={this.state.disabled} onChange={this.onSelect}>\r\n\t\t\t\t\t\t\t\t\t<option value=''>Select a customer.</option>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tthis.state.customers.map((customers, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={index} value={customers._id}>{customers.name}</option>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Field Worker</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<select className=\"form-control\" id=\"worker\" name='worker' value={this.state.workerid} disabled={this.state.disabled} onChange={this.onSelect}>\r\n\t\t\t\t\t\t\t\t\t<option value=''>Select a worker.</option>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tthis.state.workers.map((worker, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={index}  value={worker._id}>{worker.username}</option>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Date</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"date\" name=\"date\" value={this.state.date} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Start Time</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"time\" name=\"stime\" value={this.state.stime} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >End Time</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"time\" name=\"etime\" value={this.state.etime} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"form-check\">\r\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" className=\"form-check-input\" id=\"overlap\" name=\"overlap\" value={this.state.overlap} onClick={this.onChecked}/>\r\n\t\t\t\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Allow Overlap</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\" id=\"rate\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Charge Rate</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"number\" name=\"rate\" step={1} value={this.state.rate} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3 d-none\" id=\"supply\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Supply Charge</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"number\" name=\"supply\" value={this.state.supply} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\" id=\"total\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Total Charge</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"number\" name=\"total\" value={this.state.total} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<h5 id=\"tasks-label\">Tasks to complete: (Separate with commas)</h5>\r\n\t\t\t\t\t\t\t<textarea className=\"form-control\" aria-label=\"With textarea\" onChange={this.onChange} id=\"tasks\" name=\"tasks\" value={this.state.tasks}></textarea>\r\n\r\n\t\t\t\t\t\t\t<h5>Notes</h5>\r\n\t\t\t\t\t\t\t<textarea className=\"form-control\" aria-label=\"With textarea\" onChange={this.onChange} name=\"notes\" value={this.state.notes}></textarea>\r\n\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.onSubmit}>{this.state.lbutton}</button> <button type=\"button\" className=\"btn btn-primary\" onClick={this.onCancel}>{this.state.rbutton}</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col border user d-lg-none \">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.documents.map((document, index) => (\r\n\r\n\t\t\t\t\t\t\t\t\t\t<label key={'customer' + index} id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleEditChange} />{document.title}\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default appointments;\r\n","class appointment {\r\n\tconstructor(i, u, c, t, o, h, ty, n, s, e) {\r\n\t\tthis._id = i;\r\n        this._userid = u;\r\n\t\tthis._custid = c;\r\n\t\tthis._title = t;\r\n\t\tthis._overlap = o;\r\n\t\tthis._hours = h;\r\n        this._type = ty;\r\n        this._notes = n;\r\n        this._stime = s;\r\n        this._etime = e;\r\n\t}\r\n\r\n    exportStartDate(){\r\n        return new Date(this._stime)\r\n    }\r\n\r\n    exportEndDate(){\r\n        return new Date(this._etime)\r\n    }\r\n\r\n    indexMonth(){\r\n        return new Date(this._stime).getMonth()\r\n    }\r\n\r\n\tprint() {\r\n\t\tconsole.log(\"_id:\" + this._id);\r\n\t\tconsole.log(\"_uid:\" + this._uid);\r\n\r\n\t}\r\n}\r\n\r\n\r\nclass routapp extends appointment {\r\n    constructor(i, u, c, t, o, h, ty, n, s, e, r, tl, ta){\r\n        super(i, u, c, t, o, h, ty, n, s, e);\r\n        this._rate = r;\r\n\t\tthis._total = tl;\r\n        this._tasks = ta;\r\n    }\r\n\r\n    getTaskCount(){\r\n        console.log(this._tasks);\r\n        if(this._tasks === undefined || this._tasks === \"\"){return;}\r\n        return this._tasks.split(\",\").length;\r\n    }\r\n}\r\n\r\n\r\nclass consapp extends appointment {\r\n    constructor(f){\r\n        this._firsttime = f;\r\n\r\n    }\r\n    getCost(){\r\n        if(this._firsttime === false){\r\n            this._total = 20;\r\n        }\r\n    }\r\n}\r\n\r\nclass specapp extends appointment {\r\n    constructor(i, u, c, t, o, h, ty, n, s, e, r, tl, su){\r\n        super(i, u, c, t, o, h, ty, n, s, e);\r\n        this._rate = r;\r\n\t\tthis._total = tl;\r\n        this._supply = su;\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport {\r\n    appointment,\r\n    routapp,\r\n    consapp,\r\n    specapp\r\n}","import React, { Component } from 'react';\r\nimport { appointment, routapp, specapp} from './../js/classes/appointment';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\n\r\nclass reports extends Component {\r\n\tconstructor() {\r\n        super();\r\n        \r\n        this.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: '',\r\n\t\t\tselected: '',\r\n            cUser: '',\r\n            categories: [],\r\n            entries: [],\r\n            year: new Date().getFullYear(),\r\n            tblall: [],\r\n            tblrou: [],\r\n            tblcon: [],\r\n            tblspe: [],\r\n        \r\n            listapps: [],\r\n            listrout: [],\r\n            listcons: [],\r\n            listspec: []\r\n        }\r\n        \r\n\t\tthis.handleTypeChange = this.handleTypeChange.bind(this);\r\n\r\n\r\n    }\r\n    \r\n    componentDidMount(){\r\n        if (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") !== \"Admin\") {\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\r\n        let all = [\"Month\", \"Appointments\", \"Sum\", \"Average\", \"Routine Jobs\", \"Consultations\", \"Special Orders\"]\r\n        this.setState({\r\n            categories: all\r\n        })\r\n        this.getAllApps(this.state.year)\r\n    }\r\n\r\n\r\n    handleTypeChange(event){\r\n        \r\n        switch (event.target.value){\r\n            case \"tblall\":\r\n                this.setState({\r\n                    categories: [\"Month\", \"Appointments\", \"Sum\", \"Average\", \"Routine Jobs\", \"Consultations\", \"Special Orders\"]\r\n                })\r\n                document.getElementById(\"tblall\").classList.remove('d-none');\r\n                document.getElementById(\"tblrou\").classList.add('d-none');\r\n                document.getElementById(\"tblcon\").classList.add('d-none');\r\n                document.getElementById(\"tblspe\").classList.add('d-none');\r\n                   break;\r\n            case \"tblrou\":\r\n                this.setState({\r\n                    categories: [\"Month\", \"Appointments\", \"Sum\", \"Average\", \"Tasks\", \"Average Tasks\"]\r\n                   \r\n                })\r\n                document.getElementById(\"tblall\").classList.add('d-none');\r\n                document.getElementById(\"tblrou\").classList.remove('d-none');\r\n                document.getElementById(\"tblcon\").classList.add('d-none');\r\n                document.getElementById(\"tblspe\").classList.add('d-none');\r\n                break;\r\n            case \"tblcon\":\r\n                this.setState({\r\n                    categories: [\"Month\", \"Appointments\"]\r\n                   \r\n                })\r\n                document.getElementById(\"tblall\").classList.add('d-none');\r\n                document.getElementById(\"tblrou\").classList.add('d-none');\r\n                document.getElementById(\"tblcon\").classList.remove('d-none');\r\n                document.getElementById(\"tblspe\").classList.add('d-none');\r\n                break;\r\n            case \"tblspe\":\r\n                this.setState({\r\n                    categories: [\"Month\", \"Appointments\", \"Sum\", \"Average\", \"Supply Cost\", \"Average Supply Cost\"]\r\n                   \r\n                })\r\n                document.getElementById(\"tblall\").classList.add('d-none');\r\n                document.getElementById(\"tblrou\").classList.add('d-none');\r\n                document.getElementById(\"tblcon\").classList.add('d-none');\r\n                document.getElementById(\"tblspe\").classList.remove('d-none');\r\n                break;\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    getCurrentYear(){\r\n        axios.get(this.state.path + ':5000/appointment/y/' + this.state.year)\r\n        .then(res => {\r\n            res.data.forEach(app => {\r\n                console.log(\"  ---\" + new Date(app.stime).getFullYear())\r\n                let newapp = {};\r\n                switch (app.type){\r\n                    case 'rout':\r\n                        newapp = new routapp(app._id, app.userid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime, app.rate, app.total, app.tasks )\r\n                        break;\r\n                    case 'cons':\r\n                        newapp = new appointment(app._id, app.usserid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime)\r\n                        break;\r\n                    case 'spec':\r\n                        newapp = new specapp(app._id, app.usserid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime, app.rate, app.total, app.supply)\r\n                        break;\r\n                }\r\n\r\n\r\n            \r\n            });\r\n         \r\n            \r\n        });\r\n    }\r\n\r\n\r\n    getAllApps(i){\r\n\r\n        let routs = []\r\n        let cons = []\r\n        let specs = []\r\n\r\n\r\n\r\n        axios.get(this.state.path + ':5000/appointment/y/' + i)\r\n        .then(res => {\r\n            res.data.forEach(app => {\r\n                let newapp = {};\r\n                switch (app.type){\r\n                    case 'rout':\r\n                        console.log(app.stime)\r\n                        newapp = new routapp(app._id, app.userid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime, app.rate, app.total, app.tasks )\r\n                        routs.push(newapp)\r\n                        break;\r\n                    case 'cons':\r\n                        newapp = new appointment(app._id, app.usserid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime)\r\n                        cons.push(newapp)\r\n                        break;\r\n                    case 'spec':\r\n                        newapp = new specapp(app._id, app.usserid, app.custid, app.title, app.overlap, app.hours, app.type, app.notes, app.stime, app.etime, app.rate, app.total, app.supply)\r\n                        specs.push(newapp)\r\n                        break;\r\n                }\r\n\r\n             \r\n            });\r\n         \r\n            this.setState({\r\n                listrout: routs,\r\n                listcons: cons,\r\n                listspec: specs\r\n            })\r\n            \r\n        }).finally(()=> {\r\n            this.loadApps()\r\n\r\n        });\r\n            \r\n\r\n    }\r\n\r\n \r\n\r\n    changeYear(i){\r\n        this.getAllApps(this.state.year+i);\r\n        this.setState({\r\n            year: this.state.year + i\r\n        })\r\n        console.log(this.state.year)\r\n    }\r\n    \r\n    getMonthName(i){\r\n        let name = ''\r\n        switch (i){\r\n            case 0:\r\n                name = \"Jan\"\r\n                break;\r\n            case 1:\r\n                name = \"Feb\"\r\n                break;\r\n            case 2:\r\n                name = \"Mar\"\r\n                break;\r\n            case 3:\r\n                name = \"Apr\"\r\n                break;\r\n            case 4:\r\n                name = \"May\"\r\n                break;\r\n            case 5:\r\n                name = \"Jun\"\r\n                break;\r\n            case 6:\r\n                name = \"Jul\"\r\n                break;\r\n            case 7:\r\n                name = \"Aug\"\r\n                break;\r\n            case 8:\r\n                name = \"Sep\"\r\n                break;\r\n            case 9:\r\n                name = \"Oct\"\r\n                break;\r\n            case 10:\r\n                name = \"Nov\"\r\n                break;\r\n            case 11:\r\n                name = \"Dec\"\r\n                break;\r\n        }\r\n\r\n        return name;\r\n    }\r\n\r\n    \r\n\r\n    loadApps(){\r\n        let table = []\r\n        let rou = []\r\n        let con = []\r\n        let spe = []\r\n\r\n        for(let i = 0; i <= 11; i++){\r\n            let obj = {}\r\n            obj.count = 0;\r\n            obj.sum = 0;\r\n            obj.avg = 0;\r\n            obj.rout = 0;\r\n            obj.cons = 0;\r\n            obj.spec = 0;\r\n\r\n            let r = {}\r\n            r.count = 0;\r\n            r.sum = 0;\r\n            r.avg = 0;\r\n            r.tasks = 0;\r\n            r.avgtasks = 0;\r\n\r\n            let c = {}\r\n            c.count = 0;\r\n\r\n            let s = {}\r\n            s.count = 0;\r\n            s.sum = 0;\r\n            s.avg = 0;\r\n            s.sup = 0;\r\n            s.avgsup = 0;\r\n\r\n            table.push(obj)\r\n            rou.push(r)\r\n            con.push(c)\r\n            spe.push(s)\r\n            \r\n\r\n        \r\n\r\n        }\r\n        this.state.listrout.forEach(app => {\r\n            console.log(app._stime)\r\n            console.log(app.indexMonth())\r\n           table[app.indexMonth()].count++\r\n           table[app.indexMonth()].rout++\r\n\r\n           rou[app.indexMonth()].count++\r\n\r\n           table[app.indexMonth()].sum = app._total + table[app.indexMonth()].sum\r\n\r\n           rou[app.indexMonth()].sum = app._total + rou[app.indexMonth()].sum\r\n\r\n\r\n           if(table[app.indexMonth()].sum > 0){\r\n                table[app.indexMonth()].avg = (table[app.indexMonth()].sum/table[app.indexMonth()].count).toFixed(2)\r\n           }\r\n\r\n           if(rou[app.indexMonth()].sum > 0){\r\n                rou[app.indexMonth()].avg = (rou[app.indexMonth()].sum/rou[app.indexMonth()].count).toFixed(2)\r\n            }\r\n\r\n            rou[app.indexMonth()].tasks = app.getTaskCount() + rou[app.indexMonth()].tasks\r\n            if(rou[app.indexMonth()].tasks > 0){\r\n                rou[app.indexMonth()].avgtasks = (rou[app.indexMonth()].tasks/rou[app.indexMonth()].count).toFixed(2)\r\n            }\r\n\r\n\r\n        });\r\n\r\n        this.state.listcons.forEach(app => {\r\n            table[app.indexMonth()].count++\r\n            table[app.indexMonth()].cons++\r\n\r\n            con[app.indexMonth()].count++\r\n\r\n\r\n \r\n         });\r\n\r\n        this.state.listspec.forEach(app => {\r\n           table[app.indexMonth()].count++\r\n           table[app.indexMonth()].spec++\r\n\r\n           spe[app.indexMonth()].count++\r\n\r\n           table[app.indexMonth()].sum = app._total + table[app.indexMonth()].sum\r\n\r\n           spe[app.indexMonth()].sum = app._total + spe[app.indexMonth()].sum\r\n\r\n\r\n           if(table[app.indexMonth()].sum > 0){\r\n            table[app.indexMonth()].avg = (table[app.indexMonth()].sum/table[app.indexMonth()].count).toFixed(2)\r\n           }\r\n\r\n           if(spe[app.indexMonth()].sum > 0){\r\n                spe[app.indexMonth()].avg = (spe[app.indexMonth()].sum/spe[app.indexMonth()].count).toFixed(2)\r\n           }\r\n\r\n           spe[app.indexMonth()].sup = app._supply + spe[app.indexMonth()].sup\r\n\r\n           if(spe[app.indexMonth()].sup > 0){\r\n            spe[app.indexMonth()].supavg = (spe[app.indexMonth()].sup/spe[app.indexMonth()].count).toFixed(2)\r\n            }    \r\n\r\n\r\n\r\n\r\n        });\r\n\r\n\r\n        this.setState({ tblall : table})\r\n        this.setState({ tblrou : rou})   \r\n        this.setState({ tblcon : con})   \r\n        this.setState({ tblspe : spe})   \r\n\r\n        console.log(this.state.tblall)\r\n    }\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n                        \r\n                        <div className=\"col-lg border input-col p-0 h-100\">\r\n                        <div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-2 \">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeYear(-1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-left\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-8\">\r\n                                <h4 className=\"display-4 mb-4 text-center\">Current Year: {this.state.year}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-2 \">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeYear(1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n                            <div className=\"col-lg border  recent p-0\">\r\n                                <div className=\"btn-group btn-group-toggle w-100 w-100 m-0 \" data-toggle=\"buttons\">\r\n\r\n                                    <label className=\"btn btn-secondary w-100 active\">\r\n                                        <input type=\"radio\" name=\"type\" id=\"allApps\" value='tblall' onClick={this.handleTypeChange} /> All Appointments\r\n                                    </label>\r\n                                    <label className=\"btn btn-secondary w-100\">\r\n                                        <input type=\"radio\" name=\"type\" id=\"allLabor\" value='tblrou' onClick={this.handleTypeChange} /> All Labor\r\n                                    </label>\r\n                                    <label className=\"btn btn-secondary w-100\">\r\n                                        <input type=\"radio\" name=\"type\" id=\"allCons\" value='tblcon' onClick={this.handleTypeChange} /> All Consultations\r\n                                    </label>\r\n                                    <label className=\"btn btn-secondary w-100\">\r\n                                        <input type=\"radio\" name=\"type\" id=\"allSpec\" value='tblspe' onClick={this.handleTypeChange} /> All Special Orders\r\n                                    </label>\r\n                \r\n                                </div>\r\n                            </div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg \">\r\n\r\n                                <table className=\"table table-striped table-fix\">\r\n                                    <thead className=\"thead-dark\">\r\n                                        <tr>\r\n                                        {\r\n                                            this.state.categories.map((header, index) => (\r\n                                            <th scope=\"col\" key={index}>{header}</th>\r\n                                                )\r\n                                            )\r\n\r\n                                        }\r\n\r\n                                        </tr>\r\n\r\n                                        \r\n                                    </thead>\r\n                                    <tbody id=\"tblall\" className=\"empty-square all-apps\"> \r\n                                        {\r\n                                            this.state.tblall.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope=\"col\" key={index}>{this.getMonthName(index)}</th>\r\n                                                <td>{data.count}</td>\r\n                                                <td>{data.sum}</td>\r\n                                                <td>{data.avg}</td>\r\n                                                <td>{data.rout}</td>\r\n                                                <td>{data.cons}</td>\r\n                                                <td>{data.spec}</td>\r\n\r\n                                            </tr>\r\n                                                )\r\n                                            )\r\n\r\n                                        }\r\n                                    </tbody>\r\n\r\n                                    <tbody id=\"tblrou\" className=\"empty-square all-apps d-none\"> \r\n                                        {\r\n                                            this.state.tblrou.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope=\"col\" key={index}>{this.getMonthName(index)}</th>\r\n                                                <td>{data.count}</td>\r\n                                                <td>{data.sum}</td>\r\n                                                <td>{data.avg}</td>\r\n                                                <td>{data.tasks}</td>\r\n                                                <td>{data.avgtasks}</td>\r\n\r\n                                            </tr>\r\n                                                )\r\n                                            )\r\n\r\n                                        }\r\n                                    </tbody>\r\n\r\n                                    <tbody id=\"tblcon\" className=\"empty-square all-apps d-none\"> \r\n                                        {\r\n                                            this.state.tblcon.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope=\"col\" key={index}>{this.getMonthName(index)}</th>\r\n                                                <td>{data.count}</td>\r\n                                            </tr>\r\n                                                )\r\n                                            )\r\n\r\n                                        }\r\n                                    </tbody>\r\n\r\n                                    <tbody id=\"tblspe\" className=\"empty-square all-apps d-none\"> \r\n                                        {\r\n                                            this.state.tblspe.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope=\"col\" key={index}>{this.getMonthName(index)}</th>\r\n                                                <td>{data.count}</td>\r\n                                                <td>{data.sum}</td>\r\n                                                <td>{data.avg}</td>\r\n                                                <td>{data.sup}</td>\r\n                                                <td>{data.supavg}</td>\r\n\r\n                                            </tr>\r\n                                                )\r\n                                            )\r\n\r\n                                        }\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default reports;\r\n","\r\n\r\nimport React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\n\r\nclass search extends Component {\r\n\tconstructor() {\r\n        super();\r\n        \r\n        this.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: '',\r\n\t\t\tselected: '',\r\n            cUser: '',\r\n            categories: [{title:'Name/Title',class: \"\" },  {title:'Created by', class:\"\" }, {title: 'Updated By', class: \"\"}, {title: 'Created Date', class: \"\"}, {title: 'Updated Date', class: \"\"}],\r\n            year: new Date().getFullYear(),\r\n            search: '',\r\n        \r\n            tbluse: [],\r\n            tblcus: [],\r\n            tblapp: []\r\n        }\r\n        \r\n        this.handleTypeChange = this.handleTypeChange.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\r\n\r\n\t\t//consider making navbar part of a state array based on users.\r\n\t\t//Map out the appropriate options\r\n    }\r\n\r\n    componentDidMount() {\r\n\t\t//this.checkLoginSession();\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") === \"Field Worker\") {\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\r\n    }\r\n    \r\n    loadData(event){\r\n    \r\n        localStorage.setItem(\"docid\",event.target.name)\r\n    }\r\n\r\n    onSubmit(){\r\n        console.log(this.state.search)\r\n        const q = this.state.search\r\n        if(this.state.search = ''){\r\n            return;\r\n        }\r\n\r\n        console.log('test: ' + this.state.path + ':5000/user/s/' + q)\r\n\r\n        axios.get(this.state.path + ':5000/user/s/' + q)\r\n        .then((res) => {\r\n            this.setState({ tbluse: res.data });\r\n            \r\n        })\r\n\r\n        axios.get(this.state.path + ':5000/customer/s/' + q)\r\n        .then((res) => {\r\n            this.setState({ tblcus: res.data });\r\n        })\r\n\r\n        axios.get(this.state.path + ':5000/appointment/s/' + q)\r\n\t\t\t\t\t.then((res) => {\r\n                        this.setState({ tblapp: res.data });\r\n                        console.log(res.data)\r\n\t\t\t\t\t})\r\n\r\n    }\r\n\r\n    onChange(event) {\r\n\t\tconsole.log(\"eventname: \" + event.target.name);\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n    handleTypeChange(event){\r\n        console.log(event.target.value)\r\n        switch (event.target.value){\r\n            case 'option1':\r\n                document.getElementById(\"tbluse\").classList.remove('d-none');\r\n                document.getElementById(\"tblcus\").classList.remove('d-none');\r\n                document.getElementById(\"tblapp\").classList.remove('d-none');\r\n                document.getElementById(\"tblusem\").classList.remove('d-none');\r\n                document.getElementById(\"tblcusm\").classList.remove('d-none');\r\n                document.getElementById(\"tblappm\").classList.remove('d-none');\r\n                break;\r\n            case 'option2':\r\n                document.getElementById(\"tbluse\").classList.remove('d-none');\r\n                document.getElementById(\"tblcus\").classList.add('d-none');\r\n                document.getElementById(\"tblapp\").classList.add('d-none');\r\n                document.getElementById(\"tblusem\").classList.remove('d-none');\r\n                document.getElementById(\"tblcusm\").classList.add('d-none');\r\n                document.getElementById(\"tblappm\").classList.add('d-none');\r\n                break;\r\n            case 'option3':\r\n                document.getElementById(\"tbluse\").classList.add('d-none');\r\n                document.getElementById(\"tblcus\").classList.remove('d-none');\r\n                document.getElementById(\"tblapp\").classList.add('d-none');\r\n                document.getElementById(\"tblusem\").classList.add('d-none');\r\n                document.getElementById(\"tblcusm\").classList.remove('d-none');\r\n                document.getElementById(\"tblappm\").classList.add('d-none');\r\n                break;\r\n            case 'option4':\r\n                document.getElementById(\"tbluse\").classList.add('d-none');\r\n                document.getElementById(\"tblcus\").classList.add('d-none');\r\n                document.getElementById(\"tblapp\").classList.remove('d-none');\r\n                document.getElementById(\"tblusem\").classList.add('d-none');\r\n                document.getElementById(\"tblcusm\").classList.add('d-none');\r\n                document.getElementById(\"tblappm\").classList.remove('d-none');\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<div className=\"container border\">\r\n                    <div className=\"row border\">\r\n                        <div className=\"col-lg\">\r\n                        <div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Title</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"search\" value={this.state.search} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n                                <button type=\"button\" className=\"btn btn-primary m-0\" onClick={this.onSubmit}>Submit</button>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n                            \r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row border\">\r\n                        <div className=\"col-lg\">\r\n                        <div className=\"btn-group btn-group-toggle w-100\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption1\" className=\"btn btn-secondary active\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option1\" value=\"option1\" onClick={this.handleTypeChange} /> All\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option2\" value=\"option2\" onClick={this.handleTypeChange} /> Users\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option3\" value=\"option3\" onClick={this.handleTypeChange} /> Customers\r\n\t\t\t\t\t\t\t\t</label>\r\n                                <label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option4\" value=\"option4\" onClick={this.handleTypeChange} /> Appointments\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row border\">\r\n                        <div className=\"col-lg d-none d-md-block\">\r\n                        <table className=\"table table-striped table-fix\">\r\n                                <thead className=\"thead-dark\">\r\n                                    <tr>\r\n                                    {\r\n                                        this.state.categories.map((header, index) => (\r\n                                        <th scope=\"col\" key={index} className={header.class}>{header.title}</th>\r\n                                            )\r\n                                        )\r\n\r\n                                    }\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody id=\"tbluse\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                        this.state.tbluse.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope='col' key={index}><a className=\"\" href=\"/users\" onClick={this.loadData} name={data._id}> {\"User: \" +data.username}</a></th>\r\n                                                <td >{data.createdBy}</td>\r\n                                                <td >{data.updatedBy}</td>\r\n                                                <td >{data.createdDate}</td>\r\n                                                <td >{data.updatedDate}</td>\r\n\r\n                                            </tr>\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n\r\n                                <tbody id=\"tblcus\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                            this.state.tblcus.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope='col' key={index}><a className=\"\" href=\"/customers\" onClick={this.loadData} name={data._id}> Customer: {data.name}</a></th>\r\n                                                <td>{data.createdBy}</td>\r\n                                                <td>{data.updatedBy}</td>\r\n                                                <td>{data.createdDate}</td>\r\n                                                <td>{data.updatedDate}</td>\r\n\r\n                                            </tr>\r\n                                            )\r\n                                        )\r\n\r\n                                    }\r\n                                </tbody>\r\n\r\n                                <tbody id=\"tblapp\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                        this.state.tblapp.map((data, index) => (\r\n                                        <tr>    \r\n                                            <th scope='col' key={index}><a className=\"\" href=\"/appointments\" onClick={this.loadData} name={data._id}> Appointment: {data.title}</a></th>\r\n                                            <td>{data.createdBy}</td>\r\n                                            <td>{data.updatedBy}</td>\r\n                                            <td>{data.createdDate}</td>\r\n                                            <td>{data.updatedDate}</td>\r\n\r\n                                        </tr>\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                        </table>\r\n                        </div>\r\n                        <div className=\"col-lg d-none d-sm-block d-md-none\">\r\n                        <table className=\"table table-striped table-fix\">\r\n                                <thead className=\"thead-dark\">\r\n                                    <tr>\r\n                  \r\n                                    <th scope=\"col\">Name/Title</th>\r\n                                    <th scope=\"col\">CreatedBy</th>\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody id=\"tblusem\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                        this.state.tbluse.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope='col' key={index}><a className=\"\" href=\"/users\" onClick={this.loadData} name={data._id}> {\"User: \" +data.username}</a></th>\r\n                                                <td >{data.createdBy}</td>\r\n                                     \r\n\r\n                                            </tr>\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n\r\n                                <tbody id=\"tblcusm\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                            this.state.tblcus.map((data, index) => (\r\n                                            <tr>    \r\n                                                <th scope='col' key={index}><a className=\"\" href=\"/customers\" onClick={this.loadData} name={data._id}> Customer: {data.name}</a></th>\r\n                                                <td>{data.createdBy}</td>\r\n                                       \r\n                                            </tr>\r\n                                            )\r\n                                        )\r\n\r\n                                    }\r\n                                </tbody>\r\n\r\n                                <tbody id=\"tblappm\" className=\"empty-square all-apps \"> \r\n                                    {\r\n                                        this.state.tblapp.map((data, index) => (\r\n                                        <tr>    \r\n                                            <th scope='col' key={index}>Appointment: {data.title}</th>\r\n                                            <td>{data.createdBy}</td>\r\n                                          \r\n\r\n                                        </tr>\r\n                                            )\r\n                                        )\r\n                                    }\r\n                                </tbody>\r\n                        </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default search; ","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","const publicPath = '/capstone/';\r\n\r\nexport const routeCodes = {\r\n  LOGIN: publicPath,\r\n  MAIN: `${ publicPath }main`,\r\n  USERS: `${ publicPath }users`,\r\n  CUSTOMERS: `${ publicPath }customers`,\r\n  APPOINTMENTS: `${ publicPath }appointments`,\r\n  REPORTS: `${ publicPath }reports`,\r\n  SEARCH: `${ publicPath }search`,\r\n\r\n};\r\n","import React from 'react';\r\nimport './css/login.css';\r\nimport { BrowserRouter, Route, Switch, withRouter } from 'react-router-dom';\r\nimport login from './routes/login';\r\nimport main from './routes/main';\r\nimport users from './routes/users';\r\nimport customers from './routes/customers';\r\nimport appointments from './routes/appointments';\r\nimport reports from './routes/reports';\r\nimport search from './routes/search';\r\nimport history from './routes/history';\r\nimport publicPath from './js/routes'\r\n\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t\t<main className=\"main full-height\">\r\n\t\t\t\t<BrowserRouter basename='/capstone/'>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Route path=\"/\" component={withRouter(login)} exact />\r\n\t\t\t\t\t\t<Route path=\"/main\" component={withRouter(main)} />\r\n\t\t\t\t\t\t<Route path=\"/users\" component={withRouter(users)} />\r\n\t\t\t\t\t\t<Route path=\"/customers\" component={withRouter(customers)} />\r\n\t\t\t\t\t\t<Route path=\"/appointments\" component={withRouter(appointments)} />\r\n\t\t\t\t\t\t<Route path=\"/reports\" component={withRouter(reports)} />\r\n\t\t\t\t\t\t<Route path=\"/search\" component={withRouter(search)} />\r\n\r\n\t\t\t\t</BrowserRouter>\r\n\t\t\t</main>\r\n\r\n\t);\r\n}\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport { BrowserRouter, HashRouter} from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\nimport Popper from 'popper.js';\r\nimport $ from 'jquery';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
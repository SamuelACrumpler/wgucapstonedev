{"ast":null,"code":"var _jsxFileName = \"G:\\\\Projects\\\\Programming\\\\wgucapstonedev\\\\client\\\\src\\\\routes\\\\users.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Navbar from './../routes/nav';\nimport Top from './../routes/top';\n\nclass users extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      path: window.location.protocol + '//' + window.location.hostname,\n      crudState: 0,\n      selected: '',\n      user: '',\n      type: 'Admin',\n      pass: '',\n      cPass: '',\n      editUser: '',\n      lbutton: 'Save',\n      rbutton: 'Cancel',\n      selCrud: 'option1',\n      selectedName: '',\n      selectedIndex: 0,\n      disabled: false,\n      header: 'Create New User',\n      users: [],\n      error: '',\n      runtest: false\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.onCancel = this.onCancel.bind(this);\n    this.handleCrudChange = this.handleCrudChange.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") !== \"Admin\") {\n      if (this.props.history !== undefined) {\n        this.props.history.push('/');\n      }\n    }\n\n    this.getAllUsers();\n  }\n\n  crudRefresh(o, n) {\n    document.getElementById(\"lbloption\" + o).classList.remove('focus');\n    document.getElementById(\"lbloption\" + o).classList.remove('active');\n    document.getElementById(\"lbloption\" + n).classList.add('focus');\n    document.getElementById(\"lbloption\" + n).classList.add('active');\n    this.setState({\n      lbutton: 'Save',\n      disabled: false\n    });\n    return;\n  }\n\n  handleUserChange(event) {\n    let i = event.target.value;\n\n    if (this.state.selCrud === 'option1') {\n      this.crudRefresh(1, 2);\n      this.setState({\n        selCrud: 'option2'\n      });\n    } else if (this.state.selCrud === 'option3') {\n      this.crudRefresh(3, 2);\n      this.setState({\n        selCrud: 'option2'\n      });\n    } //needs to read from database and put in the information \n\n\n    axios.get(this.state.path + ':5000/user/' + this.state.users[i]._id).then(res => {\n      this.setState({\n        editUser: res.data\n      });\n    }).finally(() => {\n      this.setState({\n        user: this.state.editUser.username,\n        type: this.state.editUser.type,\n        pass: '',\n        cPass: '',\n        selectedName: \"user\" + i,\n        selectedIndex: i,\n        crudState: 2\n      });\n    });\n  }\n\n  handleTestReset() {\n    let check = \"\";\n    let flag = false;\n    axios.get(this.state.path + ':5000/user/u/TestDataDeleteMe').then(res => {\n      if (res.data !== null) {\n        // as long as something is there\n        check = res.data._id;\n      } else {\n        flag = true;\n      }\n    }).finally(() => {\n      if (flag === true) {\n        return;\n      }\n\n      axios.delete(this.state.path + ':5000/user/' + check).then(() => {}).finally(() => {\n        //call refresh function\n        this.getAllUsers();\n      });\n    });\n  }\n\n  handleCrudChange(event) {\n    console.log(\"current select:\" + event.target.value);\n\n    if (event.target.value === 'option1') {\n      console.log('save time');\n      document.getElementById(\"error\").classList.add('d-none');\n      this.setState({\n        user: '',\n        type: 'Admin',\n        pass: '',\n        cPass: '',\n        lbutton: 'Save',\n        selectedName: '',\n        selectedIndex: -1,\n        disabled: false,\n        crudState: 0\n      });\n    } else if (event.target.value === 'option2') {\n      if (this.state.selectedName === '') {\n        this.setState({\n          error: 'ERROR: Please select user before attempting to edit a user.'\n        });\n        document.getElementById(\"error\").classList.remove('d-none');\n        this.crudRefresh(2, 1);\n        this.setState({\n          lbutton: 'Save',\n          disabled: false,\n          crudState: 0\n        });\n        return;\n      }\n\n      console.log('save time');\n      this.setState({\n        lbutton: 'Save',\n        disabled: false,\n        crudState: 2\n      });\n    } else {\n      if (this.state.selectedName === '') {\n        this.setState({\n          error: 'ERROR: Please select user before attempting to delete a user.'\n        });\n        document.getElementById(\"error\").classList.remove('d-none');\n        this.crudRefresh(3, 1);\n        this.setState({\n          lbutton: 'Save',\n          disabled: false,\n          crudState: 0\n        });\n        return;\n      }\n\n      console.log('sdel time');\n      this.setState({\n        lbutton: 'Delete',\n        disabled: true,\n        crudState: 3\n      });\n    }\n\n    this.setState({\n      selCrud: event.target.value\n    });\n  }\n\n  onSubmit() {\n    this.setState({\n      error: ''\n    });\n\n    try {\n      if (this.state.user === '' && this.state.crudState !== 3) throw \"ERROR: Username was left blank.\";\n      if (this.state.pass === '' && this.state.crudState !== 3) throw \"ERROR: Password was left blank.\";\n      if (this.state.cPass === '' && this.state.crudState !== 3) throw \"ERROR: Confirm Password was left blank.\";\n      if (this.state.cPass !== this.state.pass && this.state.crudState !== 3) throw \"ERROR: Passwords do not match.\";\n    } catch (err) {\n      this.setState({\n        error: err\n      });\n\n      if (document.getElementById(\"error\") !== null) {\n        document.getElementById(\"error\").classList.remove('d-none');\n      }\n\n      return;\n    } //database section\n\n\n    this.crudUse(); //Success section\n\n    if (document.getElementById(\"error\") !== null) {\n      document.getElementById(\"error\").classList.add('d-none');\n    }\n\n    this.setState({\n      user: '',\n      type: this.state.editUser.type,\n      pass: '',\n      cPass: '',\n      selectedName: this.state.editUser.username\n    });\n  }\n\n  onCancel() {\n    console.log(\"Cancel called: lbl\" + this.state.selectedName);\n\n    if (this.state.selectedName !== '') {\n      document.getElementById(\"lbl\" + this.state.selectedName).classList.remove('focus');\n      document.getElementById(\"lbl\" + this.state.selectedName).classList.remove('active');\n    }\n\n    if (this.state.selCrud === 'option2') {\n      document.getElementById(\"error\").classList.remove('d-none');\n      this.crudRefresh(2, 1);\n    } else if (this.state.selCrud === 'option3') {\n      document.getElementById(\"error\").classList.remove('d-none');\n      this.crudRefresh(3, 1);\n      this.setState({\n        lbutton: 'Save',\n        disabled: false\n      });\n    }\n\n    this.setState({\n      user: '',\n      type: 'Admin',\n      pass: '',\n      cPass: '',\n      selectedName: ''\n    });\n    console.log(document.getElementById(\"error\"));\n    document.getElementById(\"error\").classList.add('d-none');\n  }\n\n  onChange(event) {\n    console.log(\"eventname: \" + event.target.name);\n    const state = this.state;\n    state[event.target.name] = event.target.value;\n    this.setState(state);\n  } //[CRUD Functions] - User\n\n\n  getAllUsers() {\n    //this.setState({ users: [] })\n    axios.get(this.state.path + ':5000/user/').then(res => {\n      this.setState({\n        users: res.data\n      });\n    }).finally(() => {\n      if (localStorage.getItem(\"docid\")) {\n        console.log(this.state.users.findIndex(i => i._id === localStorage.getItem(\"docid\")));\n        let i = this.state.users.findIndex(i => i._id === localStorage.getItem(\"docid\"));\n        console.log(localStorage.getItem(\"docid\"));\n        axios.get(this.state.path + ':5000/user/' + localStorage.getItem(\"docid\")).then(res => {\n          this.setState({\n            editUser: res.data\n          });\n        }).finally(() => {\n          this.setState({\n            user: this.state.editUser.username,\n            type: this.state.editUser.type,\n            pass: '',\n            cPass: '',\n            selectedName: this.state.editUser.username,\n            crudState: 2,\n            selectedIndex: i\n          });\n          document.getElementById(\"lbloption\" + 1).classList.remove('focus');\n          document.getElementById(\"lbloption\" + 1).classList.remove('active');\n          document.getElementById(\"lbloption\" + 2).classList.add('focus');\n          document.getElementById(\"lbloption\" + 2).classList.add('active');\n        });\n        localStorage.removeItem(\"docid\");\n      }\n    });\n  }\n\n  crudUse() {\n    const username = this.state.user;\n    const type = this.state.type;\n    const password = this.state.pass;\n    let createdBy = localStorage.getItem(\"username\");\n    const updatedBy = localStorage.getItem(\"username\");\n    const updatedDate = new Date();\n    let createdDate = new Date();\n\n    switch (this.state.crudState) {\n      case 0:\n        //create\n        //created then updated\n        let check;\n        axios.get(this.state.path + ':5000/user/u/' + username).then(res => {\n          if (res.data !== null) {\n            // as long as something is there\n            check = res.data.username;\n          }\n        }).finally(() => {\n          if (check === username) {\n            // as long as something is there\n            this.setState({\n              error: \"Username already exists.\"\n            });\n            document.getElementById(\"error\").classList.remove('d-none');\n            return;\n          }\n\n          axios.post(this.state.path + ':5000/user/', {\n            username,\n            type,\n            password,\n            createdBy,\n            updatedBy,\n            createdDate,\n            updatedDate\n          }).then(result => {}).finally(() => {\n            //call refresh function\n            this.getAllUsers();\n          });\n        });\n        break;\n\n      case 1:\n        //read\n        axios.get(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id).then(res => {\n          this.state({\n            editUser: res.data\n          });\n        });\n        break;\n\n      case 2:\n        //update\n        createdBy = this.state.editUser.createdBy;\n        createdDate = this.state.editUser.createdDate;\n        axios.put(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id, {\n          username,\n          type,\n          password,\n          createdBy,\n          updatedBy,\n          createdDate,\n          updatedDate\n        }).then(() => {}).finally(() => {\n          //call refresh func\n          this.getAllUsers();\n        });\n        break;\n\n      case 3:\n        //delete\n        axios.delete(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id).then(result => {}).finally(() => {\n          //call refresh function\n          this.getAllUsers();\n        });\n        break;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Top, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 border d-none d-lg-block recent height-cap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row btn-group btn-group-toggle btn-group-special btn-group-vertical force-scroll\",\n      \"data-toggle\": \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 8\n      }\n    }, this.state.users.map((user, index) => /*#__PURE__*/React.createElement(\"label\", {\n      id: 'lbluser' + index,\n      className: \"btn btn-secondary w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"user\",\n      id: 'user' + index,\n      value: index,\n      onClick: this.handleUserChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 12\n      }\n    }, user.username))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-9 border calendar \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-group btn-group-toggle w-100\",\n      \"data-toggle\": \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      id: \"lbloption1\",\n      className: \"btn btn-secondary active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"options\",\n      id: \"option1\",\n      value: \"option1\",\n      checked: this.state.selCrud === 'option1',\n      onClick: this.handleCrudChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 10\n      }\n    }), \" New\"), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"lbloption2\",\n      className: \"btn btn-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"options\",\n      id: \"option2\",\n      value: \"option2\",\n      checked: this.state.selCrud === 'option2',\n      onClick: this.handleCrudChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 10\n      }\n    }), \" Save\"), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"lbloption3\",\n      className: \"btn btn-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"options\",\n      id: \"option3\",\n      value: \"option3\",\n      checked: this.state.selCrud === 'option3',\n      onClick: this.handleCrudChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 10\n      }\n    }), \" Delete\")), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 8\n      }\n    }, this.state.header), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger d-none\",\n      id: \"error\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 8\n      }\n    }, this.state.error), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"basic-addon3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 10\n      }\n    }, \"Username\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"user\",\n      value: this.state.user,\n      onChange: this.onChange,\n      disabled: this.state.disabled,\n      className: \"form-control\",\n      id: \"basic-url\",\n      \"aria-describedby\": \"basic-addon3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"basic-addon3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 10\n      }\n    }, \"Permission Type\")), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"type\",\n      value: this.state.type,\n      onChange: this.onChange,\n      disabled: this.state.disabled,\n      id: \"type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 10\n      }\n    }, \"Admin\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 10\n      }\n    }, \"Dispatcher\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 10\n      }\n    }, \"Field Worker\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"basic-addon3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 10\n      }\n    }, \"Password\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"pass\",\n      value: this.state.pass,\n      onChange: this.onChange,\n      disabled: this.state.disabled,\n      className: \"form-control\",\n      id: \"basic-url\",\n      \"aria-describedby\": \"basic-addon3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"basic-addon3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 10\n      }\n    }, \"Confirm Password\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"cPass\",\n      value: this.state.cPass,\n      onChange: this.onChange,\n      disabled: this.state.disabled,\n      className: \"form-control\",\n      id: \"basic-url\",\n      \"aria-describedby\": \"basic-addon3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 8\n      }\n    }, this.state.lbutton), \" \", /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.onCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 112\n      }\n    }, this.state.rbutton)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col border user d-lg-none \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row btn-group btn-group-toggle btn-group-special btn-group-vertical\",\n      \"data-toggle\": \"buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 8\n      }\n    }, this.state.users.map((user, index) => /*#__PURE__*/React.createElement(\"label\", {\n      id: 'lbluser' + index,\n      className: \"btn btn-secondary w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"user\",\n      id: 'user' + index,\n      value: index,\n      onClick: this.handleUserChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 13\n      }\n    }, user.username))))))));\n  }\n\n}\n\nexport default users;","map":{"version":3,"sources":["G:/Projects/Programming/wgucapstonedev/client/src/routes/users.js"],"names":["React","Component","axios","Navbar","Top","users","constructor","props","state","path","window","location","protocol","hostname","crudState","selected","user","type","pass","cPass","editUser","lbutton","rbutton","selCrud","selectedName","selectedIndex","disabled","header","error","runtest","onSubmit","bind","onChange","onCancel","handleCrudChange","handleUserChange","componentDidMount","localStorage","getItem","history","undefined","push","getAllUsers","crudRefresh","o","n","document","getElementById","classList","remove","add","setState","event","i","target","value","get","_id","then","res","data","finally","username","handleTestReset","check","flag","delete","console","log","err","crudUse","name","findIndex","removeItem","password","createdBy","updatedBy","updatedDate","Date","createdDate","post","result","put","render","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\nimport Top from './../routes/top';\r\n\r\n\r\n\r\nclass users extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: 0,\r\n\t\t\tselected: '',\r\n\t\t\tuser: '',\r\n\t\t\ttype: 'Admin',\r\n\t\t\tpass: '',\r\n\t\t\tcPass: '',\r\n\t\t\teditUser: '',\r\n\t\t\tlbutton: 'Save',\r\n\t\t\trbutton: 'Cancel',\r\n\t\t\tselCrud: 'option1',\r\n\t\t\tselectedName: '',\r\n\t\t\tselectedIndex: 0,\r\n\t\t\tdisabled: false,\r\n\t\t\theader: 'Create New User',\r\n\t\t\tusers: [],\r\n\t\t\terror: '',\r\n\t\t\truntest: false\r\n\t\t};\r\n\r\n\t\tthis.onSubmit = this.onSubmit.bind(this);\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.onCancel = this.onCancel.bind(this);\r\n\r\n\t\tthis.handleCrudChange = this.handleCrudChange.bind(this);\r\n\t\tthis.handleUserChange = this.handleUserChange.bind(this);\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\") || localStorage.getItem(\"userType\") !== \"Admin\") {\r\n\t\t\tif(this.props.history !== undefined){this.props.history.push('/')}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tthis.getAllUsers();\r\n\t}\r\n\r\n\r\n\tcrudRefresh(o,n) {\r\n\t\tdocument.getElementById(\"lbloption\"+o).classList.remove('focus');\r\n\t\tdocument.getElementById(\"lbloption\"+o).classList.remove('active');\r\n\t\tdocument.getElementById(\"lbloption\"+n).classList.add('focus');\r\n\t\tdocument.getElementById(\"lbloption\"+n).classList.add('active');\r\n\t\tthis.setState({\r\n\t\t\tlbutton: 'Save',\r\n\t\t\tdisabled: false\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\r\n\r\n\thandleUserChange(event) {\r\n\t\tlet i = event.target.value;\r\n\t\r\n\r\n\t\tif (this.state.selCrud === 'option1') {\r\n\t\t\tthis.crudRefresh(1, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t}else if (this.state.selCrud === 'option3') {\r\n\t\t\tthis.crudRefresh(3, 2);\r\n\t\t\tthis.setState({\r\n\t\t\t\tselCrud: 'option2'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//needs to read from database and put in the information \r\n\r\n\r\n\t\taxios.get(this.state.path + ':5000/user/' + this.state.users[i]._id)\r\n\t\t\t.then((res) => {\r\n\r\n\t\t\t\tthis.setState({ editUser: res.data });\r\n\t\t\t}).finally(() => {\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tuser: this.state.editUser.username,\r\n\t\t\t\t\ttype: this.state.editUser.type,\r\n\t\t\t\t\tpass: '',\r\n\t\t\t\t\tcPass: '',\r\n\t\t\t\t\tselectedName: \"user\" + i,\r\n\t\t\t\t\tselectedIndex: i,\r\n\t\t\t\t\tcrudState: 2\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t\t\r\n\t}\r\n\r\n\thandleTestReset(){\r\n\t\tlet check = \"\"\r\n\t\tlet flag = false\r\n\t\taxios.get(this.state.path + ':5000/user/u/TestDataDeleteMe')\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.data !== null) {// as long as something is there\r\n\t\t\t\t\t\t\tcheck = res.data._id;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).finally(() => { \r\n\t\t\t\t\t\tif(flag === true){return}\r\n\t\t\t\t\t\taxios.delete(this.state.path + ':5000/user/' + check)\r\n\t\t\t\t\t\t\t.then(() => {\r\n\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\t\t\tthis.getAllUsers();\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t}\r\n\r\n\thandleCrudChange(event) {\r\n\t\tconsole.log(\"current select:\" + event.target.value)\r\n\r\n\t\tif (event.target.value === 'option1') {\r\n\r\n\t\t\tconsole.log('save time')\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t\t\t\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tuser: '',\r\n\t\t\t\ttype: 'Admin',\r\n\t\t\t\tpass: '',\r\n\t\t\t\tcPass: '',\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tselectedName : '',\r\n\t\t\t\tselectedIndex : -1,\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 0\r\n\t\t\t});\r\n\r\n\t\t} else if (event.target.value === 'option2') {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to edit a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(2,1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('save time')\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false,\r\n\t\t\t\tcrudState: 2\r\n\t\t\t});\r\n\r\n\r\n\t\t}else {\r\n\t\t\tif (this.state.selectedName === '') {\r\n\t\t\t\tthis.setState({ error: 'ERROR: Please select user before attempting to delete a user.' })\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\tthis.crudRefresh(3, 1)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tlbutton: 'Save',\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tcrudState: 0\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('sdel time')\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Delete',\r\n\t\t\t\tdisabled: true,\r\n\t\t\t\tcrudState: 3\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tselCrud: event.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.setState({ error: '' })\r\n\t\r\n\t\ttry{\r\n\t\t\tif (this.state.user === '' && this.state.crudState !== 3) throw \"ERROR: Username was left blank.\"\r\n\t\t\tif (this.state.pass === '' && this.state.crudState !== 3) throw \"ERROR: Password was left blank.\"\r\n\t\t\tif (this.state.cPass === '' && this.state.crudState !== 3) throw \"ERROR: Confirm Password was left blank.\"\r\n\t\t\tif (this.state.cPass !== this.state.pass && this.state.crudState !== 3) throw \"ERROR: Passwords do not match.\"\r\n\t\t}\r\n\t\tcatch(err){\r\n\t\t\tthis.setState({ error: err })\r\n\t\t\tif (document.getElementById(\"error\") !== null) {\r\n\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\r\n\t\t//database section\r\n\t\tthis.crudUse();\r\n\r\n\t\t//Success section\r\n\t\tif (document.getElementById(\"error\") !== null) {\r\n\t\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tuser: '',\r\n\t\t\ttype: this.state.editUser.type,\r\n\t\t\tpass: '',\r\n\t\t\tcPass: '',\r\n\t\t\tselectedName: this.state.editUser.username\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tonCancel() {\r\n\t\tconsole.log(\"Cancel called: lbl\" + this.state.selectedName);\r\n\t\tif (this.state.selectedName !== '') {\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('focus');\r\n\t\t\tdocument.getElementById(\"lbl\" + this.state.selectedName).classList.remove('active');\r\n\t\t}\r\n\r\n\t\tif (this.state.selCrud === 'option2') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(2, 1);\r\n\t\t} else if (this.state.selCrud === 'option3') {\r\n\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\tthis.crudRefresh(3, 1);\r\n\t\t\tthis.setState({\r\n\t\t\t\tlbutton: 'Save',\r\n\t\t\t\tdisabled: false\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\tuser: '',\r\n\t\t\ttype: 'Admin',\r\n\t\t\tpass: '',\r\n\t\t\tcPass: '',\r\n\t\t\tselectedName: ''\r\n\t\t});\r\n\t\tconsole.log(document.getElementById(\"error\"))\r\n\t\tdocument.getElementById(\"error\").classList.add('d-none');\r\n\r\n\t}\r\n\r\n\tonChange(event) {\r\n\t\tconsole.log(\"eventname: \" + event.target.name);\r\n\t\tconst state = this.state\r\n\t\tstate[event.target.name] = event.target.value;\r\n\t\tthis.setState(state);\r\n\t}\r\n\r\n\t//[CRUD Functions] - User\r\n\tgetAllUsers() {\r\n\t\t//this.setState({ users: [] })\r\n\r\n\r\n\t\taxios.get(this.state.path + ':5000/user/')\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({ users: res.data });\r\n\t\t\t}).finally(()=>{\r\n\t\t\t\tif(localStorage.getItem(\"docid\")){\r\n\t\t\t\t\tconsole.log(this.state.users.findIndex(i => i._id === localStorage.getItem(\"docid\")))\r\n\t\t\t\t\tlet i = this.state.users.findIndex(i => i._id === localStorage.getItem(\"docid\"))\r\n\t\t\t\t\tconsole.log(localStorage.getItem(\"docid\"))\r\n\t\t\t\t\taxios.get(this.state.path + ':5000/user/' + localStorage.getItem(\"docid\"))\r\n\t\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t\tthis.setState({ editUser: res.data });\r\n\t\t\t\t\t\t\t}).finally(()=>{\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tuser: this.state.editUser.username,\r\n\t\t\t\t\t\t\t\t\ttype: this.state.editUser.type,\r\n\t\t\t\t\t\t\t\t\tpass: '',\r\n\t\t\t\t\t\t\t\t\tcPass: '',\r\n\t\t\t\t\t\t\t\t\tselectedName: this.state.editUser.username,\r\n\t\t\t\t\t\t\t\t\tcrudState: 2,\r\n\t\t\t\t\t\t\t\t\tselectedIndex: i\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('focus');\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+1).classList.remove('active');\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('focus');\r\n\t\t\t\t\t\t\t\tdocument.getElementById(\"lbloption\"+2).classList.add('active');\r\n\t\t\t\t\t\t})\r\n\t\t\r\n\t\t\t\t\tlocalStorage.removeItem(\"docid\")\r\n\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tcrudUse() {\r\n\r\n\t\tconst username = this.state.user\r\n\t\tconst type = this.state.type\r\n\t\tconst password = this.state.pass\r\n\t\tlet createdBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedBy = localStorage.getItem(\"username\")\r\n\t\tconst updatedDate = new Date();\r\n\t\tlet createdDate = new Date();\r\n\t\t\r\n\t\tswitch (this.state.crudState) {\r\n\t\t\tcase 0: //create\r\n\t\t\t\t//created then updated\r\n\t\t\t\tlet check;\r\n\t\t\t\t\r\n\t\t\t\taxios.get(this.state.path + ':5000/user/u/' + username)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.data !== null) {// as long as something is there\r\n\t\t\t\t\t\t\tcheck = res.data.username;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\tif (check === username) {// as long as something is there\r\n\t\t\t\t\t\t\tthis.setState({ error: \"Username already exists.\" });\r\n\t\t\t\t\t\t\tdocument.getElementById(\"error\").classList.remove('d-none');\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\taxios.post(this.state.path + ':5000/user/', { username, type, password, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\t\t\tthis.getAllUsers();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1: //read\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((res) => {\r\n\r\n\t\t\t\t\t\tthis.state({ editUser: res.data });\r\n\t\t\t\t\t})\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2: //update\r\n\t\t\t\t\tcreatedBy = this.state.editUser.createdBy\r\n\t\t\t\t\tcreatedDate = this.state.editUser.createdDate\r\n\t\t\t\t\r\n\t\t\t\taxios.put(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id, { username, type, password, createdBy, updatedBy, createdDate, updatedDate })\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh func\r\n\t\t\t\t\t\tthis.getAllUsers();\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3: //delete\r\n\t\t\t\taxios.delete(this.state.path + ':5000/user/' + this.state.users[this.state.selectedIndex]._id)\r\n\t\t\t\t\t.then((result) => {\r\n\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t//call refresh function\r\n\t\t\t\t\t\tthis.getAllUsers();\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<Top />\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border d-none d-lg-block recent height-cap\">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical force-scroll\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.users.map((user, index) => (\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<label id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input  type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleUserChange}  />\r\n\t\t\t\t\t\t\t\t\t\t\t<div>{user.username}</div>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border calendar \">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"btn-group btn-group-toggle w-100\" data-toggle=\"buttons\" >\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption1\" className=\"btn btn-secondary active\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option1\" value=\"option1\" checked={this.state.selCrud === 'option1'} onClick={this.handleCrudChange} /> New\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption2\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option2\" value=\"option2\" checked={this.state.selCrud === 'option2'} onClick={this.handleCrudChange}/> Save\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label id=\"lbloption3\" className=\"btn btn-secondary\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"options\" id=\"option3\" value=\"option3\" checked={this.state.selCrud === 'option3'} onClick={this.handleCrudChange}/> Delete\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h5 className=\"text-center\">{this.state.header}</h5>\r\n\t\t\t\t\t\t\t<div className=\"alert alert-danger d-none\" id=\"error\" role=\"alert\">\r\n\t\t\t\t\t\t\t\t{this.state.error}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Username</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"text\" name=\"user\" value={this.state.user} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Permission Type</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<select className=\"form-control\" name='type' value={this.state.type} onChange={this.onChange} disabled={this.state.disabled} id=\"type\">\r\n\t\t\t\t\t\t\t\t\t<option>Admin</option>\r\n\t\t\t\t\t\t\t\t\t<option>Dispatcher</option>\r\n\t\t\t\t\t\t\t\t\t<option>Field Worker</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\">Password</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" name=\"pass\" value={this.state.pass} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"input-group-text\" id=\"basic-addon3\" >Confirm Password</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<input type=\"password\" name=\"cPass\" value={this.state.cPass} onChange={this.onChange} disabled={this.state.disabled} className=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" onClick={this.onSubmit}>{this.state.lbutton}</button> <button type=\"button\" className=\"btn btn-primary\" onClick={this.onCancel}>{this.state.rbutton}</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col border user d-lg-none \">\r\n\t\t\t\t\t\t\t<div className=\"row btn-group btn-group-toggle btn-group-special btn-group-vertical\" data-toggle=\"buttons\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.users.map((user, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<label id={'lbluser' + index} className=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input  type=\"radio\" name=\"user\" id={'user' + index} value={index} onClick={this.handleUserChange}  />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{user.username}</div>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default users;\r\n"]},"metadata":{},"sourceType":"module"}
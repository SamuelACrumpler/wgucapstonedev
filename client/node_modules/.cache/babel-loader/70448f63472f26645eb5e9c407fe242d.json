{"ast":null,"code":"var _jsxFileName = \"G:\\\\Projects\\\\Programming\\\\wgucapstonedev\\\\client\\\\src\\\\routes\\\\main.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Navbar from './../routes/nav'; //import port from '../config';\n\nrequire('dotenv').config();\n\nclass main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      path: window.location.protocol + '//' + window.location.hostname,\n      crudState: '',\n      selected: '',\n      cUser: '',\n      year: '',\n      month: '',\n      monthName: '',\n      title: '',\n      cust: '',\n      worker: '',\n      add: '',\n      stime: '',\n      etime: '',\n      index: 0,\n      users: [],\n      listmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      listdays: [],\n      listcust: [],\n      listwork: [],\n      listallapp: [],\n      listapp: []\n    };\n    this.onClickDay = this.onClickDay.bind(this);\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\")) {\n      this.props.history.push('/');\n    } //let { port } = require('../config.js');\n\n\n    console.log(\"This is your port: \" + process.env.NODE_ENV); //console.log(port)\n\n    let d = new Date();\n    this.setState({\n      year: d.getFullYear(),\n      month: d.getMonth(),\n      monthName: this.state.listmonths[d.getMonth()]\n    });\n    this.loadDays(d.getFullYear(), d.getMonth());\n  }\n\n  onClickDay(dn) {\n    let dc = this.state.year + \"\" + this.state.month + \"\" + dn;\n    console.log(\"onClickDay Clicked: \" + dc);\n    let t = [];\n    this.state.listallapp.forEach(app => {\n      let cd = new Date(app.stime);\n      console.log(\"date: \" + app.stime);\n      cd = cd.getFullYear() + '' + cd.getMonth() + '' + cd.getDate();\n      console.log(\"date string: \" + cd);\n\n      if (cd == dc) {\n        t.push(app);\n        console.log(app);\n      }\n    });\n\n    if (t.length) {\n      this.setState({\n        listapp: t,\n        title: t[0].title,\n        cust: this.state.listcust[t[0].custid],\n        worker: this.state.listwork[t[0].userid],\n        add: this.state.listcust['add:' + t[0].custid],\n        stime: t[0].stime,\n        etime: t[0].etime,\n        index: 0\n      });\n    } else {\n      this.setState({\n        listapp: [],\n        title: '',\n        cust: '',\n        worker: '',\n        add: '',\n        stime: '',\n        etime: '',\n        index: 0\n      });\n    }\n  }\n\n  checkLoginSession() {\n    if (localStorage.getItem(\"isLoggedIn\") === 'true') {\n      this.props.history.push(\"/Main\");\n    }\n  }\n\n  createLoginSession() {\n    console.log(this.state.user._id);\n    localStorage.setItem(\"userId\", this.state.user._id);\n    localStorage.setItem(\"isLoggedIn\", true);\n  }\n\n  loadDays(y, m) {\n    let am = parseInt(m) + 1;\n    console.log(y + \"-\" + am);\n    console.log(y + \"-\" + m); //use zulu\n    //let date = new Date((y+\"-\"+am+'-1'));\n\n    let date = new Date(y, m, 1);\n    console.log(date);\n    console.log(date.getDay());\n    let firstday = date.getDay();\n    let d = new Date(y, am, 0).getDate();\n    let days = [];\n    let count = 0;\n    console.log(\"day of week: \" + firstday);\n    console.log(parseInt(m) - 1);\n    console.log(\"days: \" + d);\n\n    for (let i = 0; i < firstday; i++) {\n      days.push({\n        'num': '',\n        'app': '',\n        'color': 'no-day-square'\n      });\n      count++;\n      console.log(count);\n    }\n\n    for (let i = 0; i < d; i++) {\n      days.push({\n        'num': i + 1,\n        'app': '',\n        'color': 'empty-square'\n      });\n      count++;\n    }\n\n    let d2 = 42 - d - firstday;\n\n    for (let i = 0; i < d2; i++) {\n      days.push({\n        'num': '',\n        'app': '',\n        'color': 'no-day-square'\n      });\n    }\n\n    console.log(days);\n    count = 0;\n    let month = [];\n    axios.get(this.state.path + ':5000/appointment/m/' + y + '/' + am + '/' + 1).then(res => {\n      this.setState({\n        listallapp: res.data\n      });\n      month = res.data;\n    }).finally(() => {\n      let results = {};\n\n      for (let i = 0; i < month.length; i++) {\n        let curDate = new Date(month[i].stime);\n        console.log(\"curDate: \" + curDate); // let date = [curDate.getFullYear(),curDate.getMonth(),curDate.getDate()].join(\"-\"); //creates yyyy-mm-dd\n\n        let date = [curDate.getFullYear(), curDate.getMonth(), curDate.getDate()].join(\"-\"); //creates yyyy-mm-dd\n\n        results[date] = results[date] || 0; //if results doesn't exist, \n\n        results[date]++;\n      }\n\n      for (let i in results) {\n        if (results.hasOwnProperty(i)) {\n          let split = i.split(\"-\");\n          let tdate = new Date(split[0], split[1], split[2]);\n          let ind = tdate.getDate() + firstday - 1;\n          console.log(ind);\n          days[ind].app = 'Appointments: ' + results[i];\n          days[ind].color = 'filled-square';\n        }\n      }\n\n      this.setState({\n        listdays: days\n      });\n      let custs = {};\n      axios.get(this.state.path + ':5000/customer/').then(res => {\n        res.data.forEach(cust => {\n          custs[cust._id] = cust.name;\n          custs[\"add:\" + cust._id] = cust.address;\n        });\n        this.setState({\n          listcust: custs\n        });\n        console.log(this.state.listcust['5ecb538a9d80159f14099481']);\n      });\n      let workers = {};\n      axios.get(this.state.path + ':5000/user/').then(res => {\n        res.data.forEach(work => {\n          if (work.type === 'Field Worker') {\n            workers[work._id] = work.username;\n          }\n        });\n        workers['null'] = 'null';\n        this.setState({\n          listwork: workers\n        });\n        console.log(this.state.listwork);\n        console.log(this.state.listwork['5ecb538a9d80159f14099481']);\n      });\n    });\n  }\n\n  changeMonth(val) {\n    let y = this.state.year;\n    const m = parseInt(this.state.month);\n    console.log(y + '-' + m + '-1'); //let newdate = new Date(y+'-'+m+'-1')\n\n    let newdate = new Date(y, m, 1);\n    console.log(newdate);\n    newdate.setMonth(newdate.getMonth() + val);\n    let date = new Date(y + '-' + (m + val + 1) + '-1');\n    console.log('monthnum: ' + (m + val));\n    console.log(newdate);\n    this.setState({\n      year: newdate.getFullYear(),\n      month: newdate.getMonth(),\n      monthName: this.state.listmonths[newdate.getMonth()]\n    });\n    this.loadDays(newdate.getFullYear(), newdate.getMonth());\n  }\n\n  changeApp(val) {\n    if (this.state.index + val < 0) {\n      return;\n    }\n\n    if (this.state.index + val >= this.state.listapp.length) {\n      return;\n    }\n\n    console.log(this.state.listwork[this.state.listapp[this.state.index + val].userid]);\n    this.setState({\n      title: this.state.listapp[this.state.index + val].title,\n      cust: this.state.listcust[this.state.listapp[this.state.index + val].custid],\n      worker: this.state.listwork[this.state.listapp[this.state.index + val].userid],\n      add: this.state.listcust['add:' + this.state.listapp[this.state.index + val].custid],\n      stime: this.state.listapp[this.state.index + val].stime,\n      etime: this.state.listapp[this.state.index + val].etime,\n      index: this.state.index + val\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 border recent p-0 no-day-square d-none d-lg-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 7\n      }\n    }, this.state.listapp.map((app, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-list-border\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"app-list-border filled-square m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }\n    }, \"Title: \", app.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty-square app-list-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }\n    }, \"Customer: \", this.state.listcust[app.custid]), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty-square app-list-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }\n    }, \"Contracter: \", this.state.listwork[app.userid]), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty-square app-list-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }\n    }, \"Address: \", this.state.listcust['add:' + app.custid]), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty-square app-list-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }\n    }, \"Timeframe: \", new Date(app.stime).toLocaleTimeString(), \" - \", new Date(app.etime).toLocaleTimeString())))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 border recent no-day-square d-md-block d-lg-none  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-secondary  w-100 h-100 m-0\",\n      onClick: () => this.changeApp(-1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      class: \"bi bi-arrow-left\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 12\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"app-list-border filled-square m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }\n    }, \"Title: \", this.state.title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty-square app-list-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }\n    }, \"Customer: \", this.state.cust), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty-square app-list-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }\n    }, \"Contracter: \", this.state.worker), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty-square app-list-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }\n    }, \"Address: \", this.state.add), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"empty-square app-list-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }\n    }, \"Timeframe: \", new Date(this.state.stime).toLocaleTimeString(), \" - \", new Date(this.state.etime).toLocaleTimeString(), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-secondary  w-100 h-100 m-0\",\n      onClick: () => this.changeApp(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      class: \"bi bi-arrow-right\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 12\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-9 border border-left-0 calendar \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-secondary  w-100 h-100 m-0\",\n      onClick: () => this.changeMonth(-1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      class: \"bi bi-arrow-left\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 12\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"display-4 mb-4 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }\n    }, this.state.monthName + ' ' + this.state.year)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-secondary  w-100 h-100 m-0\",\n      onClick: () => this.changeMonth(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      class: \"bi bi-arrow-right\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 12\n      }\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 12\n      }\n    }))))), /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row d-none d-md-flex p-1 bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"col-sm p-1 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }\n    }, \"Sunday\"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"col-sm p-1 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }\n    }, \"Monday\"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"col-sm p-1 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }\n    }, \"Tuesday\"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"col-sm p-1 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }\n    }, \"Wednesday\"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"col-sm p-1 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }\n    }, \"Thursday\"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"col-sm p-1 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }\n    }, \"Friday\"), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"col-sm p-1 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 9\n      }\n    }, \"Saturday\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calendar-days row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 8\n      }\n    }, this.state.listdays.map((day, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: day.color + \" square border\",\n      key: index,\n      name: day.num,\n      onClick: () => this.onClickDay(day.num),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-cell\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"daynum\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 16\n      }\n    }, day.num), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"appnum\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 16\n      }\n    }, day.app)))))))))));\n  }\n\n}\n\nexport default main;","map":{"version":3,"sources":["G:/Projects/Programming/wgucapstonedev/client/src/routes/main.js"],"names":["React","Component","axios","Navbar","require","config","main","constructor","props","state","path","window","location","protocol","hostname","crudState","selected","cUser","year","month","monthName","title","cust","worker","add","stime","etime","index","users","listmonths","listdays","listcust","listwork","listallapp","listapp","onClickDay","bind","componentDidMount","localStorage","getItem","history","push","console","log","process","env","NODE_ENV","d","Date","setState","getFullYear","getMonth","loadDays","dn","dc","t","forEach","app","cd","getDate","length","custid","userid","checkLoginSession","createLoginSession","user","_id","setItem","y","m","am","parseInt","date","getDay","firstday","days","count","i","d2","get","then","res","data","finally","results","curDate","join","hasOwnProperty","split","tdate","ind","color","custs","name","address","workers","work","type","username","changeMonth","val","newdate","setMonth","changeApp","render","map","toLocaleTimeString","day","num"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from './../routes/nav';\r\n//import port from '../config';\r\nrequire('dotenv').config();\r\n\r\n\r\n\r\nclass main extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tpath: window.location.protocol + '//' + window.location.hostname,\r\n\t\t\tcrudState: '',\r\n\t\t\tselected: '',\r\n\t\t\tcUser: '',\r\n\t\t\tyear: '',\r\n\t\t\tmonth: '',\r\n\t\t\tmonthName: '',\r\n\t\t\ttitle: '',\r\n\t\t\tcust: '',\r\n\t\t\tworker: '',\r\n\t\t\tadd: '',\r\n\t\t\tstime: '',\r\n\t\t\tetime: '',\r\n\t\t\tindex: 0,\r\n\t\t\tusers: [],\r\n\t\t\tlistmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\"July\", \"August\", \"September\", \"October\", \"November\", \"December\"], \r\n\t\t\tlistdays: [],\r\n\t\t\tlistcust: [],\r\n\t\t\tlistwork: [],\r\n\t\t\tlistallapp: [],\r\n\t\t\tlistapp: []\r\n\t\t};\r\n\r\n\t\tthis.onClickDay = this.onClickDay.bind(this);\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'false' || !localStorage.getItem(\"isLoggedIn\")) {\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\t \t//let { port } = require('../config.js');\r\n\t\t\r\n\t\t\r\n\t\tconsole.log(\"This is your port: \" + process.env.NODE_ENV)\r\n\t\t//console.log(port)\r\n\t\tlet d = new Date();\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tyear: d.getFullYear(),\r\n\t\t\tmonth: d.getMonth(),\r\n\t\t\tmonthName: this.state.listmonths[d.getMonth()]\r\n\t\t})\r\n\t\tthis.loadDays(d.getFullYear(), d.getMonth());\r\n\t}\r\n\r\n\tonClickDay(dn){\r\n\t\tlet dc = this.state.year+\"\"+this.state.month+\"\"+dn\r\n\t\tconsole.log(\"onClickDay Clicked: \" + dc)\r\n\r\n\r\n\t\tlet t = [];\r\n\t\tthis.state.listallapp.forEach(app => {\r\n\t\t\tlet cd = new Date(app.stime)\r\n\t\t\tconsole.log(\"date: \" +  app.stime)\r\n\t\t\tcd = (cd.getFullYear()+''+cd.getMonth()+''+cd.getDate())\r\n\t\t\tconsole.log(\"date string: \" +  cd)\r\n\r\n\t\t\tif (cd == dc){\r\n\t\t\t\tt.push(app)\r\n\t\t\t\tconsole.log(app)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\r\n\t\t\r\n\t\tif(t.length){\r\n\t\t\tthis.setState({ listapp : t,\r\n\t\t\t\t\ttitle: t[0].title,\r\n\t\t\t\t\tcust : this.state.listcust[t[0].custid],\r\n\t\t\t\t\tworker : this.state.listwork[t[0].userid],\r\n\t\t\t\t\tadd : this.state.listcust['add:'+t[0].custid],\r\n\t\t\t\t\tstime : t[0].stime,\r\n\t\t\t\t\tetime : t[0].etime,\r\n\t\t\t\t\tindex : 0,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t\r\n\t\t\t\tthis.setState({ listapp : [],\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tcust : '',\r\n\t\t\t\t\tworker : '',\r\n\t\t\t\t\tadd : '',\r\n\t\t\t\t\tstime : '',\r\n\t\t\t\t\tetime : '',\r\n\t\t\t\t\tindex : 0,\r\n\t\t\t})\r\n\t\t}\r\n\t\t\t\t\r\n\t}\r\n\r\n\r\n\tcheckLoginSession() {\r\n\t\tif (localStorage.getItem(\"isLoggedIn\") === 'true') {\r\n\t\t\tthis.props.history.push(\"/Main\")\r\n\t\t}\r\n\t}\r\n\r\n\tcreateLoginSession() {\r\n\t\tconsole.log(this.state.user._id);\r\n\t\tlocalStorage.setItem(\"userId\", this.state.user._id);\r\n\t\tlocalStorage.setItem(\"isLoggedIn\", true);\r\n\t}\r\n\r\n\tloadDays(y, m){\r\n\t\tlet am = parseInt(m)+1\r\n\t\tconsole.log(y+\"-\"+am);\r\n\t\t\r\n\t\tconsole.log(y+\"-\"+m);\r\n\t\t//use zulu\r\n\t\t//let date = new Date((y+\"-\"+am+'-1'));\r\n\t\tlet date = new Date(y,m,1);\r\n\t\tconsole.log(date)\r\n\t\tconsole.log(date.getDay());\r\n\t\tlet firstday = date.getDay(); \r\n\t\tlet d = new Date(y, am, 0).getDate();\r\n\t\tlet days = [];\r\n\t\tlet count = 0;\r\n\t\tconsole.log(\"day of week: \" + firstday)\r\n\t\tconsole.log((parseInt(m)-1))\r\n\t\tconsole.log(\"days: \" + d)\r\n\r\n\r\n\t\tfor (let i = 0; i < firstday; i++){\r\n\t\t\tdays.push({\r\n\t\t\t\t'num': '',\r\n\t\t\t\t'app': '',\r\n\t\t\t\t'color': 'no-day-square'\r\n\t\t\t})\r\n\t\t\tcount++\r\n\t\t\tconsole.log(count)\r\n\t\t}\r\n\r\n\t\tfor (let i=0; i < d; i++ ){\r\n\t\t\t\r\n\t\t\tdays.push({\r\n\t\t\t\t'num': i+1,\r\n\t\t\t\t'app': '',\r\n\t\t\t\t'color': 'empty-square'\r\n\t\t\t})\r\n\t\t\tcount++\r\n\r\n\t\t}\r\n\r\n\t\tlet d2 = 42-d-firstday;\t\r\n\t\tfor (let i=0; i < d2; i++){\r\n\t\t\tdays.push({\r\n\t\t\t\t'num': '',\r\n\t\t\t\t'app': '',\r\n\t\t\t\t'color': 'no-day-square'\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconsole.log(days)\r\n\t\tcount = 0;\r\n\t\tlet month = [];\r\n\t\r\n\r\n\r\n\r\n\r\n\t\taxios.get(this.state.path + ':5000/appointment/m/' + y + '/' + am + '/' + 1)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tthis.setState({ listallapp: res.data})\r\n\t\t\t\tmonth = res.data\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tlet results ={};\r\n\r\n\r\n\t\t\t\tfor (let i=0; i< month.length; i++) {\r\n\r\n\t\t\t\t\tlet curDate = new Date(month[i].stime);\r\n\t\t\t\t\tconsole.log(\"curDate: \" + curDate )\r\n\t\t\t\t\t// let date = [curDate.getFullYear(),curDate.getMonth(),curDate.getDate()].join(\"-\"); //creates yyyy-mm-dd\r\n\t\t\t\t\tlet date = [curDate.getFullYear(),curDate.getMonth(),curDate.getDate()].join(\"-\"); //creates yyyy-mm-dd\r\n\t\t\t\t\tresults[date] = results[date] || 0; //if results doesn't exist, \r\n\t\t\t\t\tresults[date]++;\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i in results) {\r\n\t\t\t\tif (results.hasOwnProperty(i)) {\r\n\t\t\t\t\tlet split = i.split(\"-\");\r\n\t\t\t\t\tlet tdate = new Date(split[0],split[1],split[2]);\r\n\t\t\t\t\tlet ind = tdate.getDate()+firstday-1;\r\n\t\t\t\t\tconsole.log(ind)\r\n\t\t\t\t\tdays[ind].app = 'Appointments: ' + results[i];\r\n\t\t\t\t\tdays[ind].color = 'filled-square'\r\n\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({ listdays : days})\r\n\r\n\t\t\t\tlet custs = {};\r\n\r\n\r\n\t\t\t\taxios.get(this.state.path + ':5000/customer/')\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tres.data.forEach(cust => {\r\n\t\t\t\t\t\t\tcusts[cust._id] = cust.name;\r\n\t\t\t\t\t\t\tcusts[\"add:\" + cust._id] = cust.address;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tthis.setState({ listcust : custs})\r\n\t\t\t\t\t\tconsole.log(this.state.listcust['5ecb538a9d80159f14099481'])\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tlet workers = {}\r\n\t\t\t\taxios.get(this.state.path + ':5000/user/')\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tres.data.forEach(work => {\r\n\t\t\t\t\t\t\tif(work.type === 'Field Worker'){\r\n\t\t\t\t\t\t\t\tworkers[work._id] = work.username;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tworkers['null'] = 'null';\r\n\r\n\t\t\t\t\t\tthis.setState({ listwork : workers})\r\n\t\t\t\t\t\tconsole.log(this.state.listwork)\r\n\r\n\t\t\t\t\t\tconsole.log(this.state.listwork['5ecb538a9d80159f14099481'])\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\r\n\t\t\t})\r\n\t}\r\n\r\n\tchangeMonth(val){\r\n\t\tlet y = this.state.year; const m = parseInt(this.state.month);\r\n\t\tconsole.log(y+'-'+m+'-1')\r\n\t\t//let newdate = new Date(y+'-'+m+'-1')\r\n\t\tlet newdate = new Date(y,m,1);\r\n\r\n\t\tconsole.log(newdate)\r\n\t\tnewdate.setMonth(newdate.getMonth()+val)\r\n\t\t\r\n\r\n\t\tlet date = new Date(y+'-'+(m+val+1)+'-1');\r\n\t\tconsole.log('monthnum: ' + (m+val))\r\n\t\tconsole.log(newdate)\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\tyear : newdate.getFullYear(),\r\n\t\t\t\tmonth : newdate.getMonth(),\r\n\t\t\t\tmonthName : this.state.listmonths[newdate.getMonth()]\r\n\t\t\t}\r\n\t\t)\r\n\t\tthis.loadDays(newdate.getFullYear(), newdate.getMonth())\r\n\r\n\t}\r\n\t\r\n\tchangeApp(val){\r\n\t\tif(this.state.index+val < 0){return}\r\n\t\tif(this.state.index+val >= this.state.listapp.length ){return}\r\n\t\tconsole.log(this.state.listwork[this.state.listapp[this.state.index+val].userid])\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\ttitle: this.state.listapp[this.state.index+val].title,\r\n\t\t\t\tcust : this.state.listcust[this.state.listapp[this.state.index+val].custid],\r\n\t\t\t\tworker : this.state.listwork[this.state.listapp[this.state.index+val].userid],\r\n\t\t\t\tadd : this.state.listcust['add:'+this.state.listapp[this.state.index+val].custid],\r\n\t\t\t\tstime : this.state.listapp[this.state.index+val].stime,\r\n\t\t\t\tetime : this.state.listapp[this.state.index+val].etime,\r\n\t\t\t\tindex : this.state.index+val,\r\n\r\n\t\t\t}\r\n\r\n\t\t)\r\n\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar/>\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"row p-0\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border recent p-0 no-day-square d-none d-lg-block\">\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.state.listapp.map((app, index) => (\r\n\t\t\t\t\t\t\t\t\t<div className=\"app-list-border\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"app-list-border filled-square m-0\">Title: {app.title}</h3>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Customer: {this.state.listcust[app.custid]}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Contracter: {this.state.listwork[app.userid]}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Address: {this.state.listcust['add:'+app.custid]}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Timeframe: {(new Date(app.stime)).toLocaleTimeString()} - {(new Date(app.etime)).toLocaleTimeString()}</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-3 border recent no-day-square d-md-block d-lg-none  \">\r\n\t\t\t\t\t\t<div className=\"row p-0\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeApp(-1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-left\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-10 p-0\">\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"app-list-border filled-square m-0\">Title: {this.state.title}</h3>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Customer: {this.state.cust}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Contracter: {this.state.worker}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Address: {this.state.add}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"empty-square app-list-label\">Timeframe: {(new Date(this.state.stime)).toLocaleTimeString()} - {(new Date(this.state.etime)).toLocaleTimeString()} </div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeApp(1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-9 border border-left-0 calendar \">\r\n\t\t\t\t\t\t\t<div className=\"row p-0\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeMonth(-1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-left\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M5.854 4.646a.5.5 0 0 1 0 .708L3.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2.5 8a.5.5 0 0 1 .5-.5h10.5a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-10\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"display-4 mb-4 text-center\">{this.state.monthName + ' ' +this.state.year}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-1 p-0\">\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary  w-100 h-100 m-0\" onClick={() => this.changeMonth(1)}>\r\n\t\t\t\t\t\t\t\t\t\t<svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-right\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<path fill-rule=\"evenodd\" d=\"M2 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8z\"/>\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</button>\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<div className=\"row d-none d-md-flex p-1 bg-dark text-white\">\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Sunday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Monday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Tuesday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Wednesday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Thursday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Friday</h5>\r\n\t\t\t\t\t\t\t\t<h5 className=\"col-sm p-1 text-center\">Saturday</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t<div className=\"calendar-days row\">\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tthis.state.listdays.map((day, index) => (\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={day.color + \" square border\"} key={index} name={day.num} onClick={() => this.onClickDay(day.num)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"table\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"table-cell\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"daynum\">{day.num}</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"appnum\">{day.app}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default main;\r\n"]},"metadata":{},"sourceType":"module"}